<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Binary Channel Framework for Aging Gene Regulatory Networks</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7"></script>
<style>
:root{--primary:#1a3a5c;--accent:#2980b9;--bg:#f8f9fa;--card:#fff;--text:#333;--border:#dee2e6}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Segoe UI',system-ui,sans-serif;background:var(--bg);color:var(--text);line-height:1.6}
.hero{background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;padding:3rem 2rem;text-align:center}
.hero h1{font-size:1.7rem;margin-bottom:0.5rem}
.hero p{font-size:1rem;opacity:0.9;max-width:800px;margin:0 auto}
.container{max-width:1200px;margin:0 auto;padding:1.5rem}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:1.5rem;margin:1.5rem 0}
.card{background:var(--card);border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.08);padding:1.5rem;border:1px solid var(--border)}
.card h2{color:var(--primary);font-size:1.1rem;margin-bottom:1rem;border-bottom:2px solid var(--accent);padding-bottom:0.5rem}
table{width:100%;border-collapse:collapse;font-size:0.85rem}
th,td{padding:0.4rem 0.6rem;text-align:center;border-bottom:1px solid var(--border)}
th{background:var(--primary);color:#fff}
.chart-container{position:relative;height:300px}
.stat-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem;margin-bottom:1.5rem}
.stat{background:var(--card);border-radius:8px;padding:1rem;text-align:center;border:1px solid var(--border)}
.stat .value{font-size:1.5rem;font-weight:700;color:var(--accent)}
.stat .label{font-size:0.75rem;color:#666;margin-top:0.2rem}
.highlight{background:#e8f4fd}
.positive{color:#27ae60;font-weight:700}
.negative{color:#e74c3c;font-weight:700}
</style>
</head>
<body>
<div class="hero">
<h1>Binary Channel Framework for Aging Gene Regulatory Networks</h1>
<p>Integrating regulatory links and expression data to quantify information loss during aging and predict optimal knock-in restoration strategies</p>
</div>
<div class="container">
<div class="stat-grid">
<div class="stat"><div class="value">200</div><div class="label">Genes</div></div>
<div class="stat"><div class="value">709</div><div class="label">Regulatory Edges</div></div>
<div class="stat"><div class="value">67.2%</div><div class="label">MI Loss with Aging</div></div>
<div class="stat"><div class="value">49.56</div><div class="label">Young Total MI (bits)</div></div>
<div class="stat"><div class="value">16.24</div><div class="label">Old Total MI (bits)</div></div>
<div class="stat"><div class="value">Gene 9</div><div class="label">Best Knock-in Target</div></div>
</div>
<div class="grid">
<div class="card">
<h2>MI Distribution: Young vs Old</h2>
<div class="chart-container"><canvas id="miDistChart"></canvas></div>
</div>
<div class="card">
<h2>Aging Information Loss</h2>
<div class="chart-container"><canvas id="agingChart"></canvas></div>
</div>
<div class="card">
<h2>Knock-in Predictions (Delta MI)</h2>
<div class="chart-container"><canvas id="knockinChart"></canvas></div>
</div>
<div class="card">
<h2>Validation: Predicted vs Observed</h2>
<div class="chart-container"><canvas id="validationChart"></canvas></div>
</div>
</div>
<div class="grid">
<div class="card">
<h2>Network Properties</h2>
<table>
<thead><tr><th>Property</th><th>Value</th></tr></thead>
<tbody>
<tr><td>Genes</td><td>200</td></tr>
<tr><td>Regulatory edges</td><td>709</td></tr>
<tr><td>Mean degree</td><td>3.545</td></tr>
<tr><td>Activating / Repressing</td><td>472 / 237</td></tr>
<tr><td>Regulatory pairs evaluated</td><td>645</td></tr>
<tr><td>Young fraction ON</td><td>0.534</td></tr>
<tr><td>Old fraction ON</td><td>0.495</td></tr>
</tbody>
</table>
</div>
<div class="card">
<h2>Knock-in Candidates</h2>
<table>
<thead><tr><th>Gene</th><th>Delta I (bits)</th><th>Downstream</th><th>Old MI</th></tr></thead>
<tbody>
<tr class="highlight"><td><strong>Gene 9</strong></td><td class="positive">+0.098</td><td>13</td><td>16.37</td></tr>
<tr><td>Gene 16</td><td class="positive">+0.022</td><td>14</td><td>16.12</td></tr>
<tr><td>Gene 5</td><td class="negative">-0.040</td><td>17</td><td>16.51</td></tr>
<tr><td>Gene 3</td><td class="negative">-0.072</td><td>10</td><td>16.51</td></tr>
<tr><td>Gene 0</td><td class="negative">-0.095</td><td>19</td><td>16.47</td></tr>
<tr><td>Gene 15</td><td class="negative">-0.167</td><td>20</td><td>16.28</td></tr>
<tr><td>Gene 18</td><td class="negative">-0.210</td><td>21</td><td>16.44</td></tr>
<tr><td>Gene 6</td><td class="negative">-0.246</td><td>10</td><td>16.57</td></tr>
<tr><td>Gene 7</td><td class="negative">-0.276</td><td>15</td><td>16.51</td></tr>
<tr><td>Gene 1</td><td class="negative">-0.338</td><td>12</td><td>16.41</td></tr>
</tbody>
</table>
</div>
</div>
<div class="card" style="margin-top:1.5rem">
<h2>Validation Summary</h2>
<table>
<thead><tr><th>Metric</th><th>Value</th></tr></thead>
<tbody>
<tr><td>Pearson Correlation</td><td>0.465</td></tr>
<tr><td>RMSE</td><td>0.364</td></tr>
<tr><td>Top-3 Overlap</td><td>2 of 3</td></tr>
<tr><td>Candidates Evaluated</td><td>10</td></tr>
</tbody>
</table>
</div>
</div>
<script>
// MI Distribution histogram bins
const youngMI = [0.103,0.082,0.034,0.148,0.027,0.022,0.120,0.048,0.063,0.018,0.058,0.089,0.067,0.079,0.228,0.102,0.060,0.027,0.021,0.007,0.026,0.110,0.063,0.134,0.104,0.183,0.069,0.275,0.063,0.095,0.096,0.051,0.183,0.061,0.101,0.057,0.182,0.105,0.062,0.127,0.092,0.086,0.071,0.064,0.116,0.139,0.023,0.112,0.036,0.059];
const oldMI = [0.029,0.018,0.012,0.036,0.007,0.013,0.033,0.029,0.007,0.011,0.009,0.046,0.003,0.031,0.030,0.031,0.009,0.015,0.017,0.008,0.019,0.046,0.010,0.022,0.026,0.032,0.021,0.072,0.017,0.028,0.027,0.015,0.032,0.012,0.036,0.039,0.049,0.040,0.025,0.037,0.031,0.044,0.014,0.020,0.039,0.048,0.010,0.031,0.034,0.027];

function histogram(data,nBins){
  const mn=Math.min(...data),mx=Math.max(...data),w=(mx-mn)/nBins;
  const bins=Array(nBins).fill(0);
  const labels=[];
  for(let i=0;i<nBins;i++){labels.push((mn+i*w).toFixed(3));}
  data.forEach(v=>{let b=Math.floor((v-mn)/w);if(b>=nBins)b=nBins-1;bins[b]++;});
  return{labels,bins};
}

const yHist=histogram(youngMI,15);
const oHist=histogram(oldMI,15);
const allLabels=[...new Set([...yHist.labels,...oHist.labels])].sort((a,b)=>a-b);

// Rebinned to same scale
const binEdges=[];
const mn2=0,mx2=0.3,nB=15,w2=(mx2-mn2)/nB;
const yBins=Array(nB).fill(0),oBins=Array(nB).fill(0),bLabels=[];
for(let i=0;i<nB;i++){bLabels.push((mn2+i*w2).toFixed(2)+'-'+(mn2+(i+1)*w2).toFixed(2));}
youngMI.forEach(v=>{let b=Math.floor((v-mn2)/w2);if(b>=nB)b=nB-1;if(b<0)b=0;yBins[b]++;});
oldMI.forEach(v=>{let b=Math.floor((v-mn2)/w2);if(b>=nB)b=nB-1;if(b<0)b=0;oBins[b]++;});

new Chart(document.getElementById('miDistChart'),{type:'bar',data:{labels:bLabels,datasets:[{label:'Young',data:yBins,backgroundColor:'rgba(41,128,185,0.6)',borderColor:'#2980b9',borderWidth:1},{label:'Old',data:oBins,backgroundColor:'rgba(231,76,60,0.6)',borderColor:'#e74c3c',borderWidth:1}]},options:{responsive:true,maintainAspectRatio:false,scales:{x:{title:{display:true,text:'MI (bits)'},ticks:{maxRotation:45,font:{size:9}}},y:{title:{display:true,text:'Count'}}},plugins:{legend:{position:'top'}}}});

// Aging comparison
new Chart(document.getElementById('agingChart'),{type:'bar',data:{labels:['Total MI','Mean MI','Max MI','Fraction ON'],datasets:[{label:'Young',data:[49.56,0.077,0.550,0.534],backgroundColor:'rgba(41,128,185,0.7)'},{label:'Old',data:[16.24,0.025,0.085,0.495],backgroundColor:'rgba(231,76,60,0.7)'}]},options:{responsive:true,maintainAspectRatio:false,scales:{y:{type:'logarithmic',title:{display:true,text:'Value (log scale)'}}},plugins:{legend:{position:'top'}}}});

// Knock-in predictions
const kiGenes=['Gene 9','Gene 16','Gene 5','Gene 3','Gene 0','Gene 15','Gene 18','Gene 6','Gene 7','Gene 1'];
const kiDeltas=[0.098,0.022,-0.040,-0.072,-0.095,-0.167,-0.210,-0.246,-0.276,-0.338];
const kiColors=kiDeltas.map(d=>d>=0?'rgba(39,174,96,0.7)':'rgba(231,76,60,0.7)');

new Chart(document.getElementById('knockinChart'),{type:'bar',data:{labels:kiGenes,datasets:[{label:'Delta MI (bits)',data:kiDeltas,backgroundColor:kiColors,borderColor:kiDeltas.map(d=>d>=0?'#27ae60':'#e74c3c'),borderWidth:1}]},options:{responsive:true,maintainAspectRatio:false,scales:{y:{title:{display:true,text:'Delta MI (bits)'}},x:{ticks:{font:{size:10}}}},plugins:{legend:{display:false},annotation:{annotations:{zeroline:{type:'line',yMin:0,yMax:0,borderColor:'#333',borderWidth:1}}}}}});

// Validation scatter
const predicted=[-1.340,-0.542,-0.426,-0.229,-0.352,-0.521,-0.307,-0.323,0.333,-0.411];
const observed=[-0.462,-0.506,-0.520,0.225,-0.179,-0.738,-0.467,-0.106,-0.101,-0.400];
const scatterData=predicted.map((p,i)=>({x:p,y:observed[i]}));

new Chart(document.getElementById('validationChart'),{type:'scatter',data:{datasets:[{label:'Knock-in Candidates',data:scatterData,backgroundColor:'rgba(41,128,185,0.7)',borderColor:'#2980b9',pointRadius:6},{label:'Perfect Prediction',data:[{x:-1.5,y:-1.5},{x:0.5,y:0.5}],type:'line',borderColor:'rgba(0,0,0,0.3)',borderDash:[5,5],pointRadius:0,borderWidth:1}]},options:{responsive:true,maintainAspectRatio:false,scales:{x:{title:{display:true,text:'Predicted (normalized)'},min:-1.6,max:0.6},y:{title:{display:true,text:'Observed (normalized)'},min:-1.0,max:0.4}},plugins:{legend:{position:'top'},title:{display:true,text:'r = 0.465, RMSE = 0.364'}}}});
</script>
</body>
</html>
