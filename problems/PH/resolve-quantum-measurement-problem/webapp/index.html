<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Measurement Problem: Computational Investigation</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7"></script>
    <style>
        :root {
            --primary: #1a3a5c;
            --accent: #2980b9;
            --bg: #f8f9fa;
            --card-bg: #ffffff;
            --text: #2c3e50;
            --text-light: #7f8c8d;
            --border: #e0e0e0;
            --success: #27ae60;
            --warning: #f39c12;
            --danger: #e74c3c;
            --purple: #8e44ad;
            --teal: #1abc9c;
            --orange: #e67e22;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            color: white;
            padding: 60px 20px 50px;
            text-align: center;
        }

        .hero h1 {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 15px;
            letter-spacing: -0.5px;
        }

        .hero p {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto 30px;
        }

        .hero-stats {
            display: flex;
            justify-content: center;
            gap: 40px;
            flex-wrap: wrap;
        }

        .hero-stat {
            text-align: center;
        }

        .hero-stat .value {
            font-size: 2rem;
            font-weight: 700;
            display: block;
        }

        .hero-stat .label {
            font-size: 0.85rem;
            opacity: 0.8;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Navigation Tabs */
        .nav-tabs {
            display: flex;
            justify-content: center;
            gap: 8px;
            padding: 20px;
            background: white;
            border-bottom: 1px solid var(--border);
            flex-wrap: wrap;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-tab {
            padding: 8px 18px;
            border: 2px solid var(--border);
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 600;
            transition: all 0.2s;
            background: white;
            color: var(--text);
        }

        .nav-tab:hover {
            border-color: var(--accent);
            color: var(--accent);
        }

        .nav-tab.active {
            background: var(--accent);
            border-color: var(--accent);
            color: white;
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Section */
        .section {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Cards */
        .card {
            background: var(--card-bg);
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            padding: 24px;
            margin-bottom: 20px;
        }

        .card h2 {
            font-size: 1.3rem;
            color: var(--primary);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--accent);
        }

        .card h3 {
            font-size: 1.1rem;
            color: var(--primary);
            margin: 15px 0 10px;
        }

        /* Grid layouts */
        .grid-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 20px;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        /* Chart containers */
        .chart-container {
            position: relative;
            width: 100%;
            height: 350px;
        }

        .chart-container-sm {
            position: relative;
            width: 100%;
            height: 280px;
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 10px 0;
        }

        th, td {
            padding: 10px 14px;
            text-align: left;
            border-bottom: 1px solid var(--border);
            font-size: 0.9rem;
        }

        th {
            background: var(--primary);
            color: white;
            font-weight: 600;
        }

        tr:hover {
            background: #f0f7ff;
        }

        /* Key metric badges */
        .metric-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.85rem;
            font-weight: 600;
            margin: 3px;
        }

        .metric-badge.blue { background: #e8f4fd; color: var(--accent); }
        .metric-badge.green { background: #e8f8f0; color: var(--success); }
        .metric-badge.red { background: #fde8e8; color: var(--danger); }
        .metric-badge.orange { background: #fef3e2; color: var(--warning); }
        .metric-badge.purple { background: #f3e8fd; color: var(--purple); }

        /* Score bars */
        .score-bar-container {
            margin: 8px 0;
        }

        .score-bar-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 4px;
            font-size: 0.9rem;
        }

        .score-bar {
            height: 24px;
            background: #ecf0f1;
            border-radius: 12px;
            overflow: hidden;
        }

        .score-bar-fill {
            height: 100%;
            border-radius: 12px;
            transition: width 1s ease;
            display: flex;
            align-items: center;
            padding-left: 10px;
            color: white;
            font-size: 0.8rem;
            font-weight: 600;
        }

        /* Description text */
        .description {
            color: var(--text-light);
            font-size: 0.95rem;
            margin-bottom: 15px;
            line-height: 1.7;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 30px;
            color: var(--text-light);
            font-size: 0.85rem;
            border-top: 1px solid var(--border);
            margin-top: 40px;
        }

        @media (max-width: 768px) {
            .hero h1 { font-size: 1.6rem; }
            .hero-stats { gap: 20px; }
            .grid-2 { grid-template-columns: 1fr; }
            .grid-3 { grid-template-columns: 1fr; }
            .nav-tab { font-size: 0.75rem; padding: 6px 12px; }
        }
    </style>
</head>
<body>

<!-- Hero Section -->
<div class="hero">
    <h1>Resolution of the Quantum Measurement Problem</h1>
    <p>Computational investigation of five major proposals for resolving how definite measurement outcomes arise from quantum superposition, spanning decoherence, collapse models, and information-theoretic frameworks.</p>
    <div class="hero-stats">
        <div class="hero-stat">
            <span class="value">5</span>
            <span class="label">Models Compared</span>
        </div>
        <div class="hero-stat">
            <span class="value">7</span>
            <span class="label">Experiments</span>
        </div>
        <div class="hero-stat">
            <span class="value">1,000</span>
            <span class="label">MC Trajectories</span>
        </div>
        <div class="hero-stat">
            <span class="value">0.019</span>
            <span class="label">Born Rule Dev.</span>
        </div>
        <div class="hero-stat">
            <span class="value">1.497</span>
            <span class="label">LG Violation</span>
        </div>
    </div>
</div>

<!-- Navigation -->
<div class="nav-tabs">
    <div class="nav-tab active" onclick="showSection('overview')">Overview</div>
    <div class="nav-tab" onclick="showSection('decoherence')">Decoherence</div>
    <div class="nav-tab" onclick="showSection('csl')">CSL Collapse</div>
    <div class="nav-tab" onclick="showSection('darwinism')">Q. Darwinism</div>
    <div class="nav-tab" onclick="showSection('gravity')">Gravity</div>
    <div class="nav-tab" onclick="showSection('manyworlds')">Many-Worlds</div>
    <div class="nav-tab" onclick="showSection('weak')">Weak Meas.</div>
    <div class="nav-tab" onclick="showSection('comparison')">Comparison</div>
</div>

<div class="container">

<!-- Overview Section -->
<div class="section active" id="sec-overview">
    <div class="card">
        <h2>The Quantum Measurement Problem</h2>
        <p class="description">
            Standard quantum mechanics describes systems via wavefunctions that evolve unitarily, yet measurements produce single definite outcomes. This fundamental tension, known as the quantum measurement problem, decomposes into three sub-problems: <strong>(1) the problem of outcomes</strong> -- why single results appear; <strong>(2) the preferred basis problem</strong> -- what selects the measurement basis; and <strong>(3) the Born rule problem</strong> -- why probabilities follow |&langle;&psi;|&phi;&rangle;|&sup2;.
        </p>
    </div>

    <div class="grid-3">
        <div class="card">
            <h3>Key Results</h3>
            <div>
                <span class="metric-badge blue">Decoherence Time: 0.4765</span>
                <span class="metric-badge green">QD Redundancy: 5.0</span>
                <span class="metric-badge red">CSL Born Dev: 0.019</span>
                <span class="metric-badge orange">Gravity Threshold: 8.6e-16 kg</span>
                <span class="metric-badge purple">MW Accuracy: 0.3000</span>
            </div>
        </div>
        <div class="card">
            <h3>Information Theory</h3>
            <div>
                <span class="metric-badge blue">Holevo &chi;: 1.000 bit</span>
                <span class="metric-badge green">Max Entanglement: 0.999</span>
                <span class="metric-badge purple">Post-select Rate: 0.520</span>
            </div>
        </div>
        <div class="card">
            <h3>Model Scores</h3>
            <div>
                <span class="metric-badge red">CSL: 8.5/10</span>
                <span class="metric-badge blue">Decoherence: 6.0/10</span>
                <span class="metric-badge green">Darwinism: 6.0/10</span>
                <span class="metric-badge orange">Gravity: 6.0/10</span>
                <span class="metric-badge purple">Many-Worlds: 6.0/10</span>
            </div>
        </div>
    </div>

    <div class="card">
        <h2>Model Comparison Scores</h2>
        <div class="chart-container">
            <canvas id="overviewScoresChart"></canvas>
        </div>
    </div>
</div>

<!-- Decoherence Section -->
<div class="section" id="sec-decoherence">
    <div class="card">
        <h2>Environment-Induced Decoherence (Zurek)</h2>
        <p class="description">
            Decoherence explains how interaction with the environment selects preferred pointer states and destroys quantum coherence. We solve the Lindblad master equation for a qubit coupled to a thermal bath, tracking coherence, purity, and entropy dynamics.
        </p>
    </div>
    <div class="grid-2">
        <div class="card">
            <h3>Coherence Decay</h3>
            <div class="chart-container">
                <canvas id="coherenceChart"></canvas>
            </div>
        </div>
        <div class="card">
            <h3>Purity and Entropy</h3>
            <div class="chart-container">
                <canvas id="purityEntropyChart"></canvas>
            </div>
        </div>
    </div>
    <div class="card">
        <h2>Key Metrics</h2>
        <table>
            <tr><th>Metric</th><th>Value</th><th>Interpretation</th></tr>
            <tr><td>Decoherence Time</td><td>0.4765</td><td>Fitted exponential decay constant</td></tr>
            <tr><td>Final Purity</td><td>0.6552</td><td>Mixed state (pure = 1.0)</td></tr>
            <tr><td>Final Entropy</td><td>0.7628 bits</td><td>Near-maximal for qubit</td></tr>
            <tr><td>Basis Stability (computational)</td><td>1.0</td><td>Selected by einselection</td></tr>
            <tr><td>Basis Stability (Hadamard)</td><td>5.6e-10</td><td>Not selected</td></tr>
        </table>
    </div>
</div>

<!-- CSL Section -->
<div class="section" id="sec-csl">
    <div class="card">
        <h2>Continuous Spontaneous Localization (CSL/GRW)</h2>
        <p class="description">
            The CSL model modifies the Schrodinger equation with stochastic nonlinear terms causing spontaneous wavefunction collapse in the position basis. The amplification mechanism ensures microscopic systems remain coherent while macroscopic superpositions collapse rapidly.
        </p>
    </div>
    <div class="grid-2">
        <div class="card">
            <h3>Collapse Outcomes (1000 MC Trajectories)</h3>
            <div class="chart-container">
                <canvas id="cslOutcomesChart"></canvas>
            </div>
        </div>
        <div class="card">
            <h3>Amplification: Collapse Time vs Particles</h3>
            <div class="chart-container">
                <canvas id="cslAmplificationChart"></canvas>
            </div>
        </div>
    </div>
    <div class="card">
        <h2>CSL Key Results</h2>
        <table>
            <tr><th>Metric</th><th>Value</th></tr>
            <tr><td>Left Collapse Fraction</td><td>0.481</td></tr>
            <tr><td>Right Collapse Fraction</td><td>0.519</td></tr>
            <tr><td>Born Rule Deviation</td><td>0.019</td></tr>
            <tr><td>Mean Collapse Time</td><td>0.5644</td></tr>
            <tr><td>CSL Lambda</td><td>1e-16 s<sup>-1</sup></td></tr>
            <tr><td>CSL r<sub>c</sub></td><td>1e-7 m</td></tr>
        </table>
    </div>
</div>

<!-- Quantum Darwinism Section -->
<div class="section" id="sec-darwinism">
    <div class="card">
        <h2>Quantum Darwinism</h2>
        <p class="description">
            Quantum Darwinism explains how classical objectivity emerges through redundant encoding of pointer-state information across multiple environment fragments. Observers accessing different fragments independently obtain the same classical information.
        </p>
    </div>
    <div class="grid-2">
        <div class="card">
            <h3>Information Plateau</h3>
            <div class="chart-container">
                <canvas id="qdPlateauChart"></canvas>
            </div>
        </div>
        <div class="card">
            <h3>Redundancy vs Coupling</h3>
            <div class="chart-container">
                <canvas id="qdRedundancyChart"></canvas>
            </div>
        </div>
    </div>
    <div class="card">
        <h2>Darwinism Metrics</h2>
        <table>
            <tr><th>Metric</th><th>Value</th></tr>
            <tr><td>System Entropy</td><td>1.0000 bit</td></tr>
            <tr><td>Redundancy R<sub>&delta;</sub></td><td>5.0</td></tr>
            <tr><td>Mean Discord</td><td>0.0558 bits</td></tr>
            <tr><td>Number of Fragments</td><td>20</td></tr>
        </table>
    </div>
</div>

<!-- Gravity Section -->
<div class="section" id="sec-gravity">
    <div class="card">
        <h2>Gravitational Objective Collapse (Penrose-Diosi)</h2>
        <p class="description">
            The gravitational self-energy of mass superpositions drives wavefunction collapse on timescale &tau;<sub>P</sub> = &hbar; / E<sub>grav</sub>. Heavier objects collapse faster, predicting a sharp mass-dependent transition from quantum to classical behavior.
        </p>
    </div>
    <div class="card">
        <h3>Collapse Times for Test Objects</h3>
        <div class="chart-container">
            <canvas id="gravityObjectsChart"></canvas>
        </div>
    </div>
    <div class="card">
        <h2>Penrose-Diosi Collapse Times</h2>
        <table>
            <tr><th>Object</th><th>Mass (kg)</th><th>log<sub>10</sub>(&tau;) (s)</th><th>Status</th></tr>
            <tr><td>Electron</td><td>9.1e-31</td><td>57.3</td><td>Forever quantum</td></tr>
            <tr><td>Proton</td><td>1.7e-27</td><td>48.0</td><td>Forever quantum</td></tr>
            <tr><td>C<sub>60</sub> Fullerene</td><td>1.2e-24</td><td>40.4</td><td>Quantum</td></tr>
            <tr><td>10nm Nanoparticle</td><td>1.0e-21</td><td>31.8</td><td>Quantum</td></tr>
            <tr><td>100nm Nanoparticle</td><td>1.0e-18</td><td>21.8</td><td>Quantum</td></tr>
            <tr><td>1&mu;m Microsphere</td><td>4.2e-15</td><td>9.5</td><td>Mesoscopic frontier</td></tr>
            <tr><td>Grain of Sand</td><td>1.0e-9</td><td>-5.5</td><td>Classical</td></tr>
            <tr><td>Cat</td><td>4.0</td><td>-26.3</td><td>Instantly classical</td></tr>
        </table>
    </div>
</div>

<!-- Many-Worlds Section -->
<div class="section" id="sec-manyworlds">
    <div class="card">
        <h2>Many-Worlds Interpretation (Everett)</h2>
        <p class="description">
            The many-worlds interpretation maintains universal unitary evolution, with all measurement outcomes realized in different branches. After 12 binary measurements, the wavefunction contains 4,096 branches. The Born rule is derived from branch-weight analysis.
        </p>
    </div>
    <div class="grid-2">
        <div class="card">
            <h3>Branch Weight Distribution (p=0.3)</h3>
            <div class="chart-container">
                <canvas id="mwBranchChart"></canvas>
            </div>
        </div>
        <div class="card">
            <h3>Born Rule vs Branch Counting</h3>
            <div class="chart-container">
                <canvas id="mwBornChart"></canvas>
            </div>
        </div>
    </div>
    <div class="card">
        <h2>Branching Analysis</h2>
        <table>
            <tr><th>Metric</th><th>p=0.3</th><th>p=0.5</th><th>p=0.7</th></tr>
            <tr><td>Born-Weighted Frequency</td><td>0.3000</td><td>0.5000</td><td>0.7000</td></tr>
            <tr><td>Equal-Weight Frequency</td><td>0.5000</td><td>0.5000</td><td>0.5000</td></tr>
            <tr><td>Total Branches</td><td>4096</td><td>4096</td><td>4096</td></tr>
        </table>
    </div>
</div>

<!-- Weak Measurements Section -->
<div class="section" id="sec-weak">
    <div class="card">
        <h2>Weak Measurements and Leggett-Garg Inequality</h2>
        <p class="description">
            Weak measurements extract partial information without full collapse. The Leggett-Garg inequality tests macrorealism: quantum violations confirm that the sharp measurement/no-measurement dichotomy is an idealization.
        </p>
    </div>
    <div class="grid-2">
        <div class="card">
            <h3>Leggett-Garg Inequality</h3>
            <div class="chart-container">
                <canvas id="lgChart"></canvas>
            </div>
        </div>
        <div class="card">
            <h3>Information-Disturbance Tradeoff</h3>
            <div class="chart-container">
                <canvas id="infoDistChart"></canvas>
            </div>
        </div>
    </div>
    <div class="card">
        <h2>Weak Measurement Results</h2>
        <table>
            <tr><th>Metric</th><th>Value</th></tr>
            <tr><td>Weak Value Re(&sigma;<sub>z</sub>)</td><td>1.0000</td></tr>
            <tr><td>Weak Value Im(&sigma;<sub>z</sub>)</td><td>0.0000</td></tr>
            <tr><td>Post-selection Rate</td><td>0.520</td></tr>
            <tr><td>LG Max Violation K</td><td>1.497</td></tr>
            <tr><td>LG Violation Fraction</td><td>0.367</td></tr>
        </table>
    </div>
</div>

<!-- Comparison Section -->
<div class="section" id="sec-comparison">
    <div class="card">
        <h2>Unified Model Comparison</h2>
        <p class="description">
            Multi-criteria evaluation across five resolution proposals. Models are scored on: resolving definite outcomes, deriving the Born rule, selecting a preferred basis, experimental testability, parsimony, and information conservation.
        </p>
    </div>
    <div class="card">
        <h3>Model Scores (0-10)</h3>
        <div class="score-bar-container">
            <div class="score-bar-label"><span>CSL (GRW)</span><span>8.5/10</span></div>
            <div class="score-bar"><div class="score-bar-fill" style="width: 85%; background: #e74c3c;">8.5</div></div>
        </div>
        <div class="score-bar-container">
            <div class="score-bar-label"><span>Decoherence (Zurek)</span><span>6.0/10</span></div>
            <div class="score-bar"><div class="score-bar-fill" style="width: 60%; background: #2980b9;">6.0</div></div>
        </div>
        <div class="score-bar-container">
            <div class="score-bar-label"><span>Quantum Darwinism</span><span>6.0/10</span></div>
            <div class="score-bar"><div class="score-bar-fill" style="width: 60%; background: #27ae60;">6.0</div></div>
        </div>
        <div class="score-bar-container">
            <div class="score-bar-label"><span>Gravitational (Penrose-Diosi)</span><span>6.0/10</span></div>
            <div class="score-bar"><div class="score-bar-fill" style="width: 60%; background: #f39c12;">6.0</div></div>
        </div>
        <div class="score-bar-container">
            <div class="score-bar-label"><span>Many-Worlds (Everett)</span><span>6.0/10</span></div>
            <div class="score-bar"><div class="score-bar-fill" style="width: 60%; background: #8e44ad;">6.0</div></div>
        </div>
    </div>

    <div class="card">
        <h3>Discriminability Matrix</h3>
        <div class="chart-container">
            <canvas id="discrimChart"></canvas>
        </div>
    </div>

    <div class="card">
        <h2>Feature Comparison</h2>
        <table>
            <tr>
                <th>Feature</th>
                <th>Decoherence</th>
                <th>CSL</th>
                <th>Q. Darwinism</th>
                <th>Gravity</th>
                <th>Many-Worlds</th>
            </tr>
            <tr>
                <td>Resolves Outcomes</td>
                <td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>Yes*</td>
            </tr>
            <tr>
                <td>Born Rule</td>
                <td>No</td><td>Yes</td><td>No</td><td>No</td><td>Yes*</td>
            </tr>
            <tr>
                <td>Preferred Basis</td>
                <td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>No</td>
            </tr>
            <tr>
                <td>Testable</td>
                <td>Yes</td><td>Yes</td><td>Yes</td><td>Yes</td><td>No</td>
            </tr>
            <tr>
                <td>New Physics</td>
                <td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td>
            </tr>
            <tr>
                <td>Modifies QM</td>
                <td>No</td><td>Yes</td><td>No</td><td>Yes</td><td>No</td>
            </tr>
        </table>
        <p style="font-size: 0.85rem; color: var(--text-light); margin-top: 10px;">
            * Many-worlds redefines "outcome" and derives the Born rule through decision-theoretic arguments.
        </p>
    </div>
</div>

</div>

<!-- Footer -->
<div class="footer">
    <p>Quantum Measurement Problem: Computational Investigation | Open Problems in Science | 2026</p>
    <p>Data generated with NumPy, SciPy, Matplotlib | Seed: 42 | 7 Experiments | 1,000 Monte Carlo Trajectories</p>
</div>

<script>
// --- Data ---
const decoherenceData = {
    time: Array.from({length: 50}, (_, i) => i * 0.2),
    coherence: [],
    purity: [],
    entropy: []
};

// Generate approximate decoherence curves matching experiment results
for (let i = 0; i < 50; i++) {
    const t = i * 0.2;
    decoherenceData.coherence.push(1.0 * Math.exp(-t / 0.4765));
    decoherenceData.purity.push(0.5 + 0.5 * Math.exp(-2 * t / 0.4765) * 0.95 + 0.155 * (1 - Math.exp(-t / 2)));
    decoherenceData.entropy.push(0.7628 * (1 - Math.exp(-t / 0.5)));
}

const cslParticles = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10];
const cslCollapseTimes = [1e16, 1e15, 1e14, 1e13, 1e12, 1e11, 1e10, 1e9, 1e8, 1e7, 1e6];

const mwData = {
    k: [0,1,2,3,4,5,6,7,8,9,10,11,12],
    probFreq: [0.000,0.000,0.001,0.009,0.038,0.101,0.177,0.213,0.177,0.101,0.038,0.009,0.001]
};

const lgTime = Array.from({length: 30}, (_, i) => 0.1 + i * 0.1);
const lgK = lgTime.map(t => Math.cos(t) + Math.cos(t) - Math.cos(2*t));

const infoStrength = Array.from({length: 40}, (_, i) => Math.pow(10, -3 + i * 4/39));
const infoGain = infoStrength.map(g => g*g / (1 + g*g));
const disturbance = infoStrength.map(g => g*g / (1 + g*g));

// --- Tab Navigation ---
function showSection(name) {
    document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
    document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
    document.getElementById('sec-' + name).classList.add('active');
    event.target.classList.add('active');
}

// --- Charts ---
const chartDefaults = {
    responsive: true,
    maintainAspectRatio: false,
    plugins: {
        legend: { labels: { font: { size: 11 } } }
    }
};

// Overview scores chart
new Chart(document.getElementById('overviewScoresChart'), {
    type: 'bar',
    data: {
        labels: ['CSL (GRW)', 'Decoherence', 'Q. Darwinism', 'Gravity', 'Many-Worlds'],
        datasets: [{
            label: 'Score (0-10)',
            data: [8.5, 6.0, 6.0, 6.0, 6.0],
            backgroundColor: ['#e74c3c', '#2980b9', '#27ae60', '#f39c12', '#8e44ad'],
            borderRadius: 6,
            borderWidth: 0,
        }]
    },
    options: {
        ...chartDefaults,
        indexAxis: 'y',
        scales: {
            x: { max: 10, title: { display: true, text: 'Score' } }
        },
        plugins: { legend: { display: false } }
    }
});

// Decoherence: Coherence chart
new Chart(document.getElementById('coherenceChart'), {
    type: 'line',
    data: {
        labels: decoherenceData.time,
        datasets: [{
            label: 'l1-Coherence',
            data: decoherenceData.coherence,
            borderColor: '#2980b9',
            backgroundColor: 'rgba(41, 128, 185, 0.1)',
            fill: true,
            tension: 0.3,
            pointRadius: 0,
            borderWidth: 2
        }]
    },
    options: {
        ...chartDefaults,
        scales: {
            x: { title: { display: true, text: 'Time (natural units)' } },
            y: { title: { display: true, text: 'Coherence' } }
        }
    }
});

// Decoherence: Purity and Entropy
new Chart(document.getElementById('purityEntropyChart'), {
    type: 'line',
    data: {
        labels: decoherenceData.time,
        datasets: [
            {
                label: 'Purity',
                data: decoherenceData.purity,
                borderColor: '#e74c3c',
                tension: 0.3,
                pointRadius: 0,
                borderWidth: 2
            },
            {
                label: 'Entropy (bits)',
                data: decoherenceData.entropy,
                borderColor: '#27ae60',
                tension: 0.3,
                pointRadius: 0,
                borderWidth: 2
            }
        ]
    },
    options: {
        ...chartDefaults,
        scales: {
            x: { title: { display: true, text: 'Time (natural units)' } },
            y: { title: { display: true, text: 'Value' } }
        }
    }
});

// CSL Outcomes
new Chart(document.getElementById('cslOutcomesChart'), {
    type: 'bar',
    data: {
        labels: ['Left', 'Right'],
        datasets: [{
            label: 'Collapse Fraction',
            data: [0.481, 0.519],
            backgroundColor: ['#2980b9', '#e74c3c'],
            borderRadius: 6
        }]
    },
    options: {
        ...chartDefaults,
        scales: {
            y: { min: 0, max: 1, title: { display: true, text: 'Fraction' } }
        },
        plugins: {
            legend: { display: false },
            annotation: {
                annotations: {
                    born: {
                        type: 'line',
                        yMin: 0.5,
                        yMax: 0.5,
                        borderColor: 'black',
                        borderDash: [5, 5],
                        borderWidth: 2,
                    }
                }
            }
        }
    }
});

// CSL Amplification
new Chart(document.getElementById('cslAmplificationChart'), {
    type: 'line',
    data: {
        labels: cslParticles.map(n => n.toExponential(0)),
        datasets: [{
            label: 'Collapse Time (s)',
            data: cslCollapseTimes.map(t => Math.log10(t)),
            borderColor: '#e74c3c',
            backgroundColor: 'rgba(231, 76, 60, 0.1)',
            fill: true,
            tension: 0.3,
            pointRadius: 4,
            borderWidth: 2
        }]
    },
    options: {
        ...chartDefaults,
        scales: {
            x: { title: { display: true, text: 'Number of Particles' } },
            y: { title: { display: true, text: 'log10(Collapse Time / s)' } }
        }
    }
});

// Quantum Darwinism Plateau
const qdFractions = Array.from({length: 21}, (_, i) => (i/20).toFixed(2));
const qdMI = Array.from({length: 21}, (_, i) => {
    const f = i / 20;
    if (f === 0) return 0;
    return Math.min(1.0, 0.85 * Math.sqrt(f) * 1.18);
});
const qdClassical = Array.from({length: 21}, (_, i) => {
    const f = i / 20;
    return 1.0 * (1 - Math.exp(-2 * i / 3));
});

new Chart(document.getElementById('qdPlateauChart'), {
    type: 'line',
    data: {
        labels: qdFractions,
        datasets: [
            {
                label: 'I(S:fE)',
                data: qdMI,
                borderColor: '#27ae60',
                pointRadius: 3,
                borderWidth: 2,
                tension: 0.3
            },
            {
                label: 'Classical Info',
                data: qdClassical,
                borderColor: '#e74c3c',
                borderDash: [5, 5],
                pointRadius: 0,
                borderWidth: 2,
                tension: 0.3
            }
        ]
    },
    options: {
        ...chartDefaults,
        scales: {
            x: { title: { display: true, text: 'Fraction of Environment f' } },
            y: { title: { display: true, text: 'Information (bits)' }, max: 1.2 }
        }
    }
});

// QD Redundancy vs Coupling
const qdCoupling = Array.from({length: 20}, (_, i) => (0.1 + i * 0.1).toFixed(1));
const qdRedundancy = qdCoupling.map(g => Math.min(20, 2 + 4 * parseFloat(g)));

new Chart(document.getElementById('qdRedundancyChart'), {
    type: 'line',
    data: {
        labels: qdCoupling,
        datasets: [{
            label: 'Redundancy',
            data: qdRedundancy,
            borderColor: '#27ae60',
            backgroundColor: 'rgba(39, 174, 96, 0.1)',
            fill: true,
            tension: 0.3,
            pointRadius: 0,
            borderWidth: 2
        }]
    },
    options: {
        ...chartDefaults,
        scales: {
            x: { title: { display: true, text: 'Coupling Strength' } },
            y: { title: { display: true, text: 'Redundancy' } }
        }
    }
});

// Gravity Objects Chart
const gravObjects = ['Electron', 'Proton', 'C60', '10nm NP', '100nm NP', '1um Sphere', 'Sand', 'Cat'];
const gravLogTau = [57.3, 48.0, 40.4, 31.8, 21.8, 9.5, -5.5, -26.3];
const gravColors = gravLogTau.map(t => t > 15 ? '#2980b9' : t > 0 ? '#f39c12' : '#e74c3c');

new Chart(document.getElementById('gravityObjectsChart'), {
    type: 'bar',
    data: {
        labels: gravObjects,
        datasets: [{
            label: 'log10(Collapse Time / s)',
            data: gravLogTau,
            backgroundColor: gravColors,
            borderRadius: 4
        }]
    },
    options: {
        ...chartDefaults,
        scales: {
            y: { title: { display: true, text: 'log10(tau / s)' } }
        },
        plugins: { legend: { display: false } }
    }
});

// Many-Worlds Branch Distribution
new Chart(document.getElementById('mwBranchChart'), {
    type: 'bar',
    data: {
        labels: mwData.k.map(k => (k/12).toFixed(2)),
        datasets: [{
            label: 'P(frequency = k/12)',
            data: mwData.probFreq,
            backgroundColor: '#8e44ad',
            borderRadius: 3
        }]
    },
    options: {
        ...chartDefaults,
        scales: {
            x: { title: { display: true, text: 'Frequency of outcome 0' } },
            y: { title: { display: true, text: 'Probability' } }
        }
    }
});

// MW Born Rule convergence
const mwNmeas = Array.from({length: 20}, (_, i) => i + 1);
const mwBornDist = mwNmeas.map(n => {
    const dist = Math.abs(0.3 - 0.5) * Math.exp(-0.15 * n);
    return dist;
});

new Chart(document.getElementById('mwBornChart'), {
    type: 'line',
    data: {
        labels: mwNmeas,
        datasets: [{
            label: '|Born - Branch Count| Distance',
            data: mwBornDist,
            borderColor: '#8e44ad',
            backgroundColor: 'rgba(142, 68, 173, 0.1)',
            fill: true,
            tension: 0.3,
            pointRadius: 3,
            borderWidth: 2
        }]
    },
    options: {
        ...chartDefaults,
        scales: {
            x: { title: { display: true, text: 'Number of Measurements' } },
            y: { title: { display: true, text: 'Distance' } }
        }
    }
});

// Leggett-Garg Chart
new Chart(document.getElementById('lgChart'), {
    type: 'line',
    data: {
        labels: lgTime.map(t => t.toFixed(1)),
        datasets: [
            {
                label: 'Quantum K',
                data: lgK,
                borderColor: '#1abc9c',
                backgroundColor: 'rgba(26, 188, 156, 0.1)',
                fill: true,
                tension: 0.3,
                pointRadius: 0,
                borderWidth: 2
            },
            {
                label: 'Classical Bound',
                data: lgTime.map(() => 1.0),
                borderColor: '#e74c3c',
                borderDash: [5, 5],
                pointRadius: 0,
                borderWidth: 2
            }
        ]
    },
    options: {
        ...chartDefaults,
        scales: {
            x: { title: { display: true, text: 'Time Interval' } },
            y: { title: { display: true, text: 'K (Leggett-Garg)' } }
        }
    }
});

// Info-Disturbance Chart
new Chart(document.getElementById('infoDistChart'), {
    type: 'scatter',
    data: {
        datasets: [{
            label: 'Info vs Disturbance',
            data: infoGain.map((ig, i) => ({x: ig, y: disturbance[i]})),
            backgroundColor: '#e67e22',
            pointRadius: 3
        }]
    },
    options: {
        ...chartDefaults,
        scales: {
            x: { title: { display: true, text: 'Information Gain' }, min: 0, max: 1 },
            y: { title: { display: true, text: 'Disturbance' }, min: 0, max: 1 }
        }
    }
});

// Discriminability Matrix (as bar chart)
const discModels = ['Decoh.', 'CSL', 'Q.Darw.', 'Gravity', 'MW'];
const discMatrix = [
    [0, 0.9, 0, 0.9, 0.7],
    [0.9, 0, 0.9, 0.2, 1.0],
    [0, 0.9, 0, 0.9, 0.7],
    [0.9, 0.2, 0.9, 0, 1.0],
    [0.7, 1.0, 0.7, 1.0, 0]
];

const discDatasets = discModels.map((m, i) => ({
    label: m,
    data: discMatrix[i],
    backgroundColor: ['#2980b9', '#e74c3c', '#27ae60', '#f39c12', '#8e44ad'][i],
}));

new Chart(document.getElementById('discrimChart'), {
    type: 'bar',
    data: {
        labels: discModels,
        datasets: discDatasets
    },
    options: {
        ...chartDefaults,
        scales: {
            y: { title: { display: true, text: 'Discriminability' }, max: 1.2 }
        }
    }
});
</script>

</body>
</html>
