<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Abiotic vs Biological Pattern Discrimination</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Segoe UI',system-ui,sans-serif;background:#0f1923;color:#e0e0e0;min-height:100vh}
.header{background:linear-gradient(135deg,#1a3a4a,#2d5a3d);padding:2rem;text-align:center}
.header h1{font-size:1.6rem;margin-bottom:0.5rem;color:#fff}
.header p{font-size:0.95rem;color:#b0c4b1;max-width:700px;margin:0 auto}
.dashboard{display:grid;grid-template-columns:repeat(auto-fit,minmax(450px,1fr));gap:1.5rem;padding:1.5rem;max-width:1400px;margin:0 auto}
.card{background:#1a2a35;border-radius:12px;padding:1.5rem;box-shadow:0 4px 15px rgba(0,0,0,0.3)}
.card h2{font-size:1.1rem;color:#7fdbca;margin-bottom:1rem;border-bottom:1px solid #2a3a45;padding-bottom:0.5rem}
.metric-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:0.8rem;margin-bottom:1rem}
.metric{background:#0f1923;border-radius:8px;padding:0.8rem;text-align:center}
.metric .value{font-size:1.5rem;font-weight:700;color:#7fdbca}
.metric .label{font-size:0.75rem;color:#8899aa;margin-top:0.3rem}
.chart-container{position:relative;height:300px;margin-top:1rem}
table{width:100%;border-collapse:collapse;font-size:0.85rem}
th,td{padding:0.6rem;text-align:left;border-bottom:1px solid #2a3a45}
th{color:#7fdbca;font-weight:600}
td{color:#ccc}
.sig{color:#ff6b6b;font-weight:600}
.ns{color:#666}
</style>
</head>
<body>
<div class="header">
<h1>Distinguishing Abiotic from Biological Geological Patterns</h1>
<p>Multi-proxy computational framework for biosignature discrimination. Fisher LDA on 10 morphometric and geochemical features from simulated abiotic (Gray-Scott, Liesegang) and biotic (chemotaxis, DLA) patterns.</p>
</div>
<div class="dashboard">
<div class="card">
<h2>Classification Performance</h2>
<div class="metric-grid">
<div class="metric"><div class="value">1.00</div><div class="label">All Features Accuracy</div></div>
<div class="metric"><div class="value">1.00</div><div class="label">Chemical Only</div></div>
<div class="metric"><div class="value">0.92</div><div class="label">Morphological Only</div></div>
</div>
<div class="chart-container"><canvas id="proxyChart"></canvas></div>
</div>
<div class="card">
<h2>Robustness Under Noise</h2>
<div class="metric-grid">
<div class="metric"><div class="value">0.96</div><div class="label">Accuracy at 0% Noise</div></div>
<div class="metric"><div class="value">0.98</div><div class="label">Accuracy at 10% Noise</div></div>
<div class="metric"><div class="value">0.96</div><div class="label">Accuracy at 50% Noise</div></div>
</div>
<div class="chart-container"><canvas id="robustnessChart"></canvas></div>
</div>
<div class="card">
<h2>Feature Effect Sizes (Cohen's d)</h2>
<div class="chart-container"><canvas id="effectChart"></canvas></div>
</div>
<div class="card">
<h2>Feature Importance (Discriminant Weights)</h2>
<div class="chart-container"><canvas id="importanceChart"></canvas></div>
</div>
<div class="card" style="grid-column:1/-1">
<h2>Feature Comparison: Abiotic vs Biotic</h2>
<table>
<tr><th>Feature</th><th>Abiotic (mean +/- std)</th><th>Biotic (mean +/- std)</th><th>|Cohen's d|</th><th>p-value</th></tr>
<tr><td>Fractal Dimension</td><td>1.48 +/- 0.09</td><td>1.48 +/- 0.15</td><td class="ns">0.04</td><td class="ns">0.886</td></tr>
<tr><td>Lacunarity</td><td>1.57 +/- 0.56</td><td>2.01 +/- 0.49</td><td class="sig">0.84</td><td class="sig">0.006</td></tr>
<tr><td>Branching Angle Mean</td><td>50.69 +/- 15.26</td><td>78.84 +/- 12.44</td><td class="sig">2.02</td><td class="sig">7.3e-9</td></tr>
<tr><td>Branching Angle Std</td><td>25.21 +/- 11.35</td><td>12.42 +/- 3.71</td><td class="sig">1.52</td><td class="sig">3.4e-6</td></tr>
<tr><td>Symmetry Index</td><td>0.87 +/- 0.22</td><td>0.50 +/- 0.20</td><td class="sig">1.78</td><td class="sig">1.5e-7</td></tr>
<tr><td>Spatial Autocorrelation</td><td>0.48 +/- 0.01</td><td>0.44 +/- 0.06</td><td class="sig">0.81</td><td class="sig">0.007</td></tr>
<tr><td>Compactness</td><td>0.83 +/- 0.28</td><td>0.52 +/- 0.34</td><td class="sig">1.00</td><td class="sig">0.001</td></tr>
<tr><td>delta-13C</td><td>-4.60 +/- 3.01</td><td>-22.09 +/- 5.78</td><td class="sig">3.80</td><td class="sig">1.6e-17</td></tr>
<tr><td>Fe/Mn Ratio</td><td>2.37 +/- 0.78</td><td>0.88 +/- 0.27</td><td class="sig">2.55</td><td class="sig">1.2e-11</td></tr>
</table>
</div>
</div>
<script>
const proxyData = {
    labels: ['All Features', 'Chemical Only', 'Morph+Chemical', 'Morph+Branching', 'Morphological', 'Branching', 'Spatial Only'],
    values: [1.00, 1.00, 1.00, 0.94, 0.92, 0.92, 0.64]
};
new Chart(document.getElementById('proxyChart'), {
    type: 'bar',
    data: {
        labels: proxyData.labels,
        datasets: [{
            label: 'Accuracy',
            data: proxyData.values,
            backgroundColor: proxyData.values.map(v => v >= 1.0 ? '#4CAF50' : v >= 0.9 ? '#FF9800' : '#F44336'),
            borderRadius: 4
        }]
    },
    options: {
        responsive: true, maintainAspectRatio: false,
        scales: { y: { min: 0.4, max: 1.05, ticks: { color: '#8899aa' }, grid: { color: '#2a3a45' } }, x: { ticks: { color: '#8899aa', maxRotation: 45 }, grid: { display: false } } },
        plugins: { legend: { display: false } }
    }
});

const robData = {
    noise: [0.0, 0.05, 0.10, 0.20, 0.30, 0.40, 0.50],
    acc: [0.96, 0.97, 0.98, 0.98, 0.97, 0.98, 0.96],
    ciLow: [0.90, 0.90, 0.90, 0.87, 0.90, 0.87, 0.87],
    ciHigh: [1.00, 1.00, 1.00, 1.00, 1.00, 1.00, 1.00]
};
new Chart(document.getElementById('robustnessChart'), {
    type: 'line',
    data: {
        labels: robData.noise.map(n => (n*100).toFixed(0) + '%'),
        datasets: [
            { label: 'Mean Accuracy', data: robData.acc, borderColor: '#E91E63', backgroundColor: 'rgba(233,30,99,0.1)', fill: false, tension: 0.3, pointRadius: 5 },
            { label: '95% CI Upper', data: robData.ciHigh, borderColor: 'transparent', backgroundColor: 'rgba(233,30,99,0.15)', fill: '+1', pointRadius: 0 },
            { label: '95% CI Lower', data: robData.ciLow, borderColor: 'transparent', backgroundColor: 'rgba(233,30,99,0.15)', fill: false, pointRadius: 0 }
        ]
    },
    options: {
        responsive: true, maintainAspectRatio: false,
        scales: { y: { min: 0.5, max: 1.05, ticks: { color: '#8899aa' }, grid: { color: '#2a3a45' } }, x: { ticks: { color: '#8899aa' }, grid: { color: '#2a3a45' } } },
        plugins: { legend: { labels: { color: '#8899aa' } } }
    }
});

const effectData = {
    labels: ['delta-13C', 'Fe/Mn Ratio', 'Branch Angle', 'Symmetry', 'Branch Std', 'Compactness', 'Lacunarity', 'Autocorrelation', 'Aspect Ratio', 'Fractal Dim'],
    values: [3.80, 2.55, 2.02, 1.78, 1.52, 1.00, 0.84, 0.81, 0.29, 0.04]
};
new Chart(document.getElementById('effectChart'), {
    type: 'bar',
    data: {
        labels: effectData.labels,
        datasets: [{ label: "|Cohen's d|", data: effectData.values, backgroundColor: effectData.values.map(v => v >= 0.8 ? '#F44336' : v >= 0.5 ? '#FF9800' : '#607D8B'), borderRadius: 4 }]
    },
    options: {
        indexAxis: 'y', responsive: true, maintainAspectRatio: false,
        scales: { x: { ticks: { color: '#8899aa' }, grid: { color: '#2a3a45' } }, y: { ticks: { color: '#8899aa' }, grid: { display: false } } },
        plugins: { legend: { display: false } }
    }
});

const impData = {
    labels: ['Spatial Autocorr', 'Fractal Dim', 'Symmetry', 'Lacunarity', 'Trace Element', 'Compactness', 'Isotope delta', 'Branch Angle', 'Branch Std', 'Aspect Ratio'],
    values: [0.601, 0.256, 0.088, 0.025, 0.019, 0.008, 0.002, 0.0004, 0.0003, 0.0000]
};
new Chart(document.getElementById('importanceChart'), {
    type: 'bar',
    data: {
        labels: impData.labels,
        datasets: [{ label: 'Importance', data: impData.values, backgroundColor: '#7fdbca', borderRadius: 4 }]
    },
    options: {
        indexAxis: 'y', responsive: true, maintainAspectRatio: false,
        scales: { x: { ticks: { color: '#8899aa' }, grid: { color: '#2a3a45' } }, y: { ticks: { color: '#8899aa' }, grid: { display: false } } },
        plugins: { legend: { display: false } }
    }
});
</script>
</body>
</html>
