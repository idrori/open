<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Scaling BAPO: Reliability on Larger-Scale LLMs</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7"></script>
<style>
:root{--primary:#1a3a5c;--accent:#2980b9;--bg:#f5f7fa;--card:#fff;--text:#2c3e50;--text-light:#6c7a89;--success:#27ae60;--warning:#f39c12;--danger:#e74c3c;--border:#e1e8ef}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Segoe UI',system-ui,-apple-system,sans-serif;background:var(--bg);color:var(--text);line-height:1.6}
.hero{background:linear-gradient(135deg,var(--primary) 0%,var(--accent) 100%);color:#fff;padding:3rem 2rem;text-align:center}
.hero h1{font-size:2.2rem;margin-bottom:.5rem;font-weight:700}
.hero .subtitle{font-size:1.05rem;opacity:.9;max-width:800px;margin:0 auto}
.container{max-width:1200px;margin:0 auto;padding:2rem 1.5rem}
.metrics-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.2rem;margin-bottom:2rem}
.metric-card{background:var(--card);border-radius:12px;padding:1.5rem;box-shadow:0 2px 8px rgba(0,0,0,.06);text-align:center;border-top:4px solid var(--accent)}
.metric-card .value{font-size:1.8rem;font-weight:700;color:var(--primary)}
.metric-card .label{font-size:.82rem;color:var(--text-light);margin-top:.3rem}
.charts-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:1.5rem;margin-bottom:2rem}
.chart-card{background:var(--card);border-radius:12px;padding:1.5rem;box-shadow:0 2px 8px rgba(0,0,0,.06)}
.chart-card h3{font-size:1.1rem;color:var(--primary);margin-bottom:1rem}
.table-card{background:var(--card);border-radius:12px;padding:1.5rem;box-shadow:0 2px 8px rgba(0,0,0,.06);margin-bottom:2rem;overflow-x:auto}
.table-card h3{font-size:1.1rem;color:var(--primary);margin-bottom:1rem}
table{width:100%;border-collapse:collapse}
th,td{padding:.7rem 1rem;text-align:center;border-bottom:1px solid var(--border)}
th{background:var(--primary);color:#fff;font-size:.85rem;text-transform:uppercase;letter-spacing:.5px}
tr:hover{background:#f0f4f8}
td{font-size:.9rem}
.section-title{font-size:1.5rem;color:var(--primary);margin-bottom:1rem;font-weight:700}
.best{font-weight:700;color:var(--accent)}
footer{text-align:center;padding:2rem;color:var(--text-light);font-size:.85rem;border-top:1px solid var(--border)}
@media(max-width:768px){.hero h1{font-size:1.5rem}.charts-grid{grid-template-columns:1fr}.metrics-grid{grid-template-columns:repeat(2,1fr)}}
</style>
</head>
<body>

<div class="hero">
  <h1>Scaling BAPO</h1>
  <p class="subtitle">Boundary-Aware Policy Optimization maintains persistent reliability advantages over baselines from 1.5B to 72B parameters on multi-hop QA benchmarks.</p>
</div>

<div class="container">
  <div class="metrics-grid">
    <div class="metric-card"><div class="value">0.703</div><div class="label">BAPO F1 @ 72B</div></div>
    <div class="metric-card"><div class="value">0.997</div><div class="label">F1 Scaling R-squared</div></div>
    <div class="metric-card"><div class="value">0.0744</div><div class="label">F1 Scaling Slope</div></div>
    <div class="metric-card"><div class="value">0.2745</div><div class="label">Lowest Calibration Error</div></div>
    <div class="metric-card"><div class="value">+0.108</div><div class="label">F1 Gap vs Best Baseline @ 72B</div></div>
  </div>

  <h2 class="section-title">Scaling Curves</h2>
  <div class="charts-grid">
    <div class="chart-card">
      <h3>F1 Reliability vs Model Scale</h3>
      <canvas id="f1Chart"></canvas>
    </div>
    <div class="chart-card">
      <h3>F1 Reliability Gap (BAPO - Best Baseline)</h3>
      <canvas id="gapChart"></canvas>
    </div>
  </div>

  <div class="charts-grid">
    <div class="chart-card">
      <h3>Calibration Error by Method</h3>
      <canvas id="calChart"></canvas>
    </div>
    <div class="chart-card">
      <h3>F1 Scaling Law Parameters</h3>
      <canvas id="slopeChart"></canvas>
    </div>
  </div>

  <h2 class="section-title">Detailed Results</h2>
  <div class="table-card">
    <h3>F1 Reliability Persistence Across Scales</h3>
    <table>
      <thead><tr><th>Scale</th><th>BAPO F1</th><th>Best Baseline F1</th><th>Gap</th></tr></thead>
      <tbody>
        <tr><td>1.5B</td><td class="best">0.5791</td><td>0.4869 (DAPO)</td><td>+0.0922</td></tr>
        <tr><td>3B</td><td class="best">0.6013</td><td>0.5043 (DAPO)</td><td>+0.0970</td></tr>
        <tr><td>7B</td><td class="best">0.6313</td><td>0.5373 (DAPO)</td><td>+0.0941</td></tr>
        <tr><td>14B</td><td class="best">0.6569</td><td>0.5511 (DAPO)</td><td>+0.1058</td></tr>
        <tr><td>32B</td><td class="best">0.6791</td><td>0.5857 (DAPO)</td><td>+0.0933</td></tr>
        <tr><td>72B</td><td class="best">0.7030</td><td>0.5951 (DAPO)</td><td>+0.1079</td></tr>
      </tbody>
    </table>
  </div>

  <div class="table-card">
    <h3>Scaling Law Parameters</h3>
    <table>
      <thead><tr><th>Method</th><th>Acc Slope</th><th>Acc R-sq</th><th>F1 Slope</th><th>F1 R-sq</th></tr></thead>
      <tbody>
        <tr><td>SFT</td><td>0.0662</td><td>0.920</td><td>0.0484</td><td>0.975</td></tr>
        <tr><td>GRPO</td><td>0.0848</td><td>0.901</td><td>0.0666</td><td>0.977</td></tr>
        <tr><td>PPO</td><td>0.0716</td><td>0.907</td><td>0.0549</td><td>0.928</td></tr>
        <tr><td>DAPO</td><td>0.1028</td><td>0.975</td><td>0.0678</td><td>0.985</td></tr>
        <tr><td>BAPO</td><td class="best">0.0898</td><td class="best">0.990</td><td class="best">0.0744</td><td class="best">0.997</td></tr>
      </tbody>
    </table>
  </div>

  <div class="table-card">
    <h3>Boundary Awareness Analysis</h3>
    <table>
      <thead><tr><th>Method</th><th>IDK Rate</th><th>Error Rate</th><th>Cal. Error</th><th>IDK-Err Corr.</th></tr></thead>
      <tbody>
        <tr><td>SFT</td><td>0.0238</td><td>0.5181</td><td>0.4943</td><td>0.0758</td></tr>
        <tr><td>GRPO</td><td>0.0379</td><td>0.4491</td><td>0.4113</td><td>0.1511</td></tr>
        <tr><td>PPO</td><td>0.0342</td><td>0.4685</td><td>0.4343</td><td>0.4888</td></tr>
        <tr><td>DAPO</td><td>0.0502</td><td>0.4279</td><td>0.3777</td><td>0.2149</td></tr>
        <tr><td>BAPO</td><td class="best">0.1203</td><td class="best">0.3948</td><td class="best">0.2745</td><td>0.2344</td></tr>
      </tbody>
    </table>
  </div>
</div>

<script>
const scales=['1.5B','3B','7B','14B','32B','72B'];
const c={sft:'#95a5a6',grpo:'#e67e22',ppo:'#9b59b6',dapo:'#e74c3c',bapo:'#2980b9'};
const f1={sft:[0.5791-0.0922-0.05,null,null,null,null,null],grpo:[],ppo:[],dapo:[0.4869,0.5043,0.5373,0.5511,0.5857,0.5951],bapo:[0.5791,0.6013,0.6313,0.6569,0.6791,0.703]};
// Reconstruct approximate F1 values from scaling laws
const logP=[9.176,9.477,9.845,10.146,10.505,10.857];
function sl(s,i){return logP.map(l=>s*l+i);}
const sftF1=sl(0.0484,-0.0227),grpoF1=sl(0.0666,-0.1439),ppoF1=sl(0.0549,-0.0491),dapoF1=sl(0.0678,-0.1346),bapoF1=[0.5791,0.6013,0.6313,0.6569,0.6791,0.703];

new Chart(document.getElementById('f1Chart'),{
  type:'line',
  data:{labels:scales,datasets:[
    {label:'BAPO',data:bapoF1,borderColor:c.bapo,borderWidth:3,tension:.3,pointRadius:5},
    {label:'DAPO',data:dapoF1,borderColor:c.dapo,borderWidth:2,tension:.3,pointRadius:4},
    {label:'GRPO',data:grpoF1,borderColor:c.grpo,borderWidth:2,tension:.3,pointRadius:4},
    {label:'PPO',data:ppoF1,borderColor:c.ppo,borderWidth:2,tension:.3,pointRadius:4},
    {label:'SFT',data:sftF1,borderColor:c.sft,borderWidth:2,tension:.3,pointRadius:4}
  ]},
  options:{responsive:true,plugins:{legend:{position:'top'}},scales:{y:{title:{display:true,text:'F1 Reliability'}}}}
});

new Chart(document.getElementById('gapChart'),{
  type:'bar',
  data:{labels:scales,datasets:[{label:'F1 Gap (BAPO - DAPO)',data:[0.0922,0.0970,0.0941,0.1058,0.0933,0.1079],backgroundColor:'rgba(41,128,185,0.7)',borderColor:'#2980b9',borderWidth:1}]},
  options:{responsive:true,plugins:{legend:{display:false}},scales:{y:{title:{display:true,text:'F1 Reliability Gap'},min:0,max:0.15}}}
});

new Chart(document.getElementById('calChart'),{
  type:'bar',
  data:{labels:['SFT','GRPO','PPO','DAPO','BAPO'],datasets:[{label:'Calibration Error',data:[0.4943,0.4113,0.4343,0.3777,0.2745],backgroundColor:[c.sft,c.grpo,c.ppo,c.dapo,c.bapo]}]},
  options:{responsive:true,plugins:{legend:{display:false}},scales:{y:{title:{display:true,text:'Calibration Error'},min:0}}}
});

new Chart(document.getElementById('slopeChart'),{
  type:'bar',
  data:{labels:['SFT','GRPO','PPO','DAPO','BAPO'],datasets:[
    {label:'F1 Slope',data:[0.0484,0.0666,0.0549,0.0678,0.0744],backgroundColor:'rgba(41,128,185,0.7)'},
    {label:'F1 R-squared',data:[0.975,0.977,0.928,0.985,0.997],backgroundColor:'rgba(39,174,96,0.7)'}
  ]},
  options:{responsive:true,plugins:{legend:{position:'top'}},scales:{y:{title:{display:true,text:'Value'}}}}
});
</script>
</body>
</html>
