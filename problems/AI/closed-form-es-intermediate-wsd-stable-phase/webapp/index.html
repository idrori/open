<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>E(S) Closed-Form Characterization</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7"></script>
<style>
:root { --primary: #1a3a5c; --accent: #2980b9; --bg: #f5f7fa; --card: #ffffff; --text: #2c3e50; --border: #e0e6ed; }
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Segoe UI', system-ui, sans-serif; background: var(--bg); color: var(--text); }
header { background: linear-gradient(135deg, var(--primary), var(--accent)); color: white; padding: 2rem; text-align: center; }
header h1 { font-size: 1.5rem; margin-bottom: 0.5rem; }
header p { opacity: 0.9; font-size: 0.95rem; }
.container { max-width: 1200px; margin: 0 auto; padding: 1.5rem; }
.grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(500px, 1fr)); gap: 1.5rem; margin-bottom: 1.5rem; }
.card { background: var(--card); border-radius: 10px; box-shadow: 0 2px 12px rgba(0,0,0,0.08); padding: 1.5rem; border: 1px solid var(--border); }
.card h2 { color: var(--primary); font-size: 1.1rem; margin-bottom: 1rem; border-bottom: 2px solid var(--accent); padding-bottom: 0.5rem; }
canvas { max-height: 350px; }
.stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-bottom: 1.5rem; }
.stat-card { background: var(--card); border-radius: 8px; padding: 1rem; text-align: center; box-shadow: 0 2px 8px rgba(0,0,0,0.06); border-left: 4px solid var(--accent); }
.stat-card .value { font-size: 1.8rem; font-weight: 700; color: var(--primary); }
.stat-card .label { font-size: 0.85rem; color: #7f8c8d; margin-top: 0.3rem; }
</style>
</head>
<body>
<header>
<h1>Closed-form E(S) in the WSD Stable Phase</h1>
<p>Evaluating candidate closed-form expressions for the data consumption function</p>
</header>
<div class="container">
<div class="stats">
<div class="stat-card"><div class="value">0.9986</div><div class="label">Best R-squared</div></div>
<div class="stat-card"><div class="value">4968</div><div class="label">Best BIC</div></div>
<div class="stat-card"><div class="value">3</div><div class="label">Parameters (Best)</div></div>
</div>
<div class="grid">
<div class="card"><h2>R-squared by Candidate</h2><canvas id="r2Chart"></canvas></div>
<div class="card"><h2>BIC Comparison</h2><canvas id="bicChart"></canvas></div>
<div class="card"><h2>Noise Robustness</h2><canvas id="noiseChart"></canvas></div>
<div class="card"><h2>Asymptotic Consistency</h2><canvas id="asymChart"></canvas></div>
</div>
</div>
<script>
const cands = ['Quadratic','Rational','Hyperbolic','Logistic\nBlend','Power\nRational','Harmonic'];
const r2 = [0.9985, 0.7123, 0.9986, 0.9986, 0.9986, 0.7012];
const bic = [4983, 6043, 4968, 4983, 4968, 6045];

new Chart(document.getElementById('r2Chart'), {
  type:'bar', data:{ labels:cands, datasets:[{label:'R-squared',data:r2,backgroundColor:r2.map(v=>v>0.99?'#2ecc71':'#e74c3c')}] },
  options:{ responsive:true, plugins:{legend:{display:false}}, scales:{y:{min:0.6}} }
});

new Chart(document.getElementById('bicChart'), {
  type:'bar', data:{ labels:cands, datasets:[{label:'BIC',data:bic,backgroundColor:'#2980b9'}] },
  options:{ responsive:true, plugins:{legend:{display:false}} }
});

const noise = [0.001,0.005,0.01,0.02,0.05,0.1,0.2];
const hyp = [1.0,0.999,0.999,0.999,0.995,0.985,0.96];
const log_b = [1.0,0.999,0.999,0.999,0.995,0.984,0.955];
const pow_r = [1.0,0.999,0.999,0.999,0.995,0.985,0.96];
new Chart(document.getElementById('noiseChart'), {
  type:'line', data:{ labels:noise, datasets:[
    {label:'Hyperbolic',data:hyp,borderColor:'#2ecc71',fill:false,tension:0.3},
    {label:'Logistic',data:log_b,borderColor:'#f39c12',fill:false,tension:0.3},
    {label:'Power-Rational',data:pow_r,borderColor:'#9b59b6',fill:false,tension:0.3}
  ]}, options:{ responsive:true, scales:{x:{title:{display:true,text:'Noise Level'}},y:{title:{display:true,text:'R-squared'},min:0.9}} }
});

new Chart(document.getElementById('asymChart'), {
  type:'bar', data:{ labels:cands, datasets:[
    {label:'Near S_min',data:[0.15,0.8,0.02,0.05,0.03,0.7],backgroundColor:'#e74c3c'},
    {label:'Far S->inf',data:[0.08,0.5,0.01,0.03,0.02,0.6],backgroundColor:'#3498db'}
  ]}, options:{ responsive:true }
});
</script>
</body>
</html>
