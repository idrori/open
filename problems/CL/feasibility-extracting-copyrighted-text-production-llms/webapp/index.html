<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feasibility of Extracting Copyrighted Text from Production LLMs</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7"></script>
    <style>
        :root {
            --primary: #1a3a5c;
            --accent: #2980b9;
            --success: #27ae60;
            --danger: #e74c3c;
            --warning: #f39c12;
            --purple: #8e44ad;
            --teal: #16a085;
            --bg: #f8f9fa;
            --card-bg: #ffffff;
            --text: #2c3e50;
            --text-light: #7f8c8d;
            --border: #e0e0e0;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
        }
        .hero {
            background: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
            color: white;
            padding: 3rem 2rem;
            text-align: center;
        }
        .hero h1 {
            font-size: 1.8rem;
            margin-bottom: 1rem;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
        }
        .hero p {
            font-size: 1.05rem;
            opacity: 0.9;
            max-width: 700px;
            margin: 0 auto;
        }
        .key-findings {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            max-width: 1100px;
            margin: -2rem auto 2rem;
            padding: 0 1.5rem;
            position: relative;
            z-index: 1;
        }
        .finding-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 1.2rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            text-align: center;
        }
        .finding-card .value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
        }
        .finding-card .label {
            font-size: 0.85rem;
            color: var(--text-light);
            margin-top: 0.3rem;
        }
        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }
        .section {
            margin: 2rem 0;
        }
        .section h2 {
            font-size: 1.4rem;
            color: var(--primary);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--accent);
        }
        .chart-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(480px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        .chart-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.06);
        }
        .chart-card h3 {
            font-size: 1.05rem;
            color: var(--primary);
            margin-bottom: 1rem;
        }
        .chart-card canvas {
            width: 100% !important;
            max-height: 320px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            font-size: 0.9rem;
        }
        th {
            background: var(--primary);
            color: white;
            padding: 0.7rem 0.8rem;
            text-align: left;
            font-weight: 600;
        }
        td {
            padding: 0.6rem 0.8rem;
            border-bottom: 1px solid var(--border);
        }
        tr:nth-child(even) { background: #f5f7fa; }
        tr:hover { background: #eef2f7; }
        .highlight { color: var(--danger); font-weight: 600; }
        .footer {
            text-align: center;
            padding: 2rem;
            color: var(--text-light);
            font-size: 0.85rem;
            border-top: 1px solid var(--border);
            margin-top: 3rem;
        }
        @media (max-width: 600px) {
            .hero h1 { font-size: 1.3rem; }
            .chart-grid { grid-template-columns: 1fr; }
            .key-findings { grid-template-columns: repeat(2, 1fr); }
        }
    </style>
</head>
<body>

<div class="hero">
    <h1>Feasibility of Extracting Copyrighted Text from Production LLMs</h1>
    <p>A computational analysis of attack-defense dynamics in memorization, extraction, and safety measures across production language model configurations.</p>
</div>

<div class="key-findings">
    <div class="finding-card">
        <div class="value">0.1257</div>
        <div class="label">Avg Standard Extraction Rate</div>
    </div>
    <div class="finding-card">
        <div class="value" style="color: var(--danger);">0.3251</div>
        <div class="label">Avg Jailbreak Extraction Rate</div>
    </div>
    <div class="finding-card">
        <div class="value" style="color: var(--success);">0.8377</div>
        <div class="label">Avg Defense Effectiveness</div>
    </div>
    <div class="finding-card">
        <div class="value" style="color: var(--warning);">0.1993</div>
        <div class="label">Avg Jailbreak Uplift</div>
    </div>
    <div class="finding-card">
        <div class="value" style="color: var(--purple);">0.42</div>
        <div class="label">Memorization Scaling Exponent</div>
    </div>
</div>

<div class="container">

    <div class="section">
        <h2>Production Model Extraction Results</h2>
        <div class="chart-grid">
            <div class="chart-card">
                <h3>Standard vs Jailbreak Extraction Rates</h3>
                <canvas id="chart-extraction"></canvas>
            </div>
            <div class="chart-card">
                <h3>Defense Effectiveness vs Memorization</h3>
                <canvas id="chart-defense-mem"></canvas>
            </div>
        </div>
        <table>
            <thead>
                <tr>
                    <th>Model</th>
                    <th>Size</th>
                    <th>Std Rate</th>
                    <th>JB Rate</th>
                    <th>Defense Eff.</th>
                    <th>Memorization</th>
                    <th>JB Uplift</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Model-A</td><td>175B</td>
                    <td>0.1326</td><td class="highlight">0.3396</td>
                    <td>0.8265</td><td>0.780</td><td>0.207</td>
                </tr>
                <tr>
                    <td>Model-B</td><td>540B</td>
                    <td>0.1434</td><td class="highlight">0.3782</td>
                    <td>0.8454</td><td>0.946</td><td>0.235</td>
                </tr>
                <tr>
                    <td>Model-C</td><td>65B</td>
                    <td>0.0780</td><td class="highlight">0.1998</td>
                    <td>0.8307</td><td>0.432</td><td>0.122</td>
                </tr>
                <tr>
                    <td>Model-D</td><td>1000B</td>
                    <td>0.1488</td><td class="highlight">0.3826</td>
                    <td>0.8482</td><td>0.974</td><td>0.234</td>
                </tr>
                <tr style="font-weight:600; background:#e8f0fe;">
                    <td>Average</td><td>---</td>
                    <td>0.1257</td><td class="highlight">0.3251</td>
                    <td>0.8377</td><td>0.783</td><td>0.199</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="section">
        <h2>Defense Configuration Analysis</h2>
        <div class="chart-grid">
            <div class="chart-card">
                <h3>Defense Effectiveness by Configuration</h3>
                <canvas id="chart-defense-configs"></canvas>
            </div>
            <div class="chart-card">
                <h3>Defense Cost: False Positive &amp; Jailbreak Vulnerability</h3>
                <canvas id="chart-defense-costs"></canvas>
            </div>
        </div>
        <table>
            <thead>
                <tr>
                    <th>Configuration</th>
                    <th>Effectiveness</th>
                    <th>FP Rate</th>
                    <th>Quality Loss</th>
                    <th>JB Vulnerability</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>No defense</td><td>0.1577</td><td>0.069</td><td>0.000</td><td>0.100</td></tr>
                <tr><td>Output filter</td><td>0.7069</td><td>0.120</td><td>0.000</td><td>0.100</td></tr>
                <tr><td>Activation cap</td><td>0.3365</td><td>0.069</td><td>0.016</td><td>0.100</td></tr>
                <tr><td>RLHF alignment</td><td>0.8110</td><td>0.069</td><td>0.000</td><td class="highlight">0.456</td></tr>
                <tr><td>Refusal training</td><td>0.7732</td><td>0.241</td><td>0.000</td><td>0.061</td></tr>
                <tr><td>Filter + RLHF</td><td style="color:var(--success);font-weight:600;">0.9016</td><td>0.120</td><td>0.000</td><td class="highlight">0.456</td></tr>
                <tr><td>Filter + refusal</td><td>0.8885</td><td>0.283</td><td>0.000</td><td>0.061</td></tr>
                <tr><td>RLHF + refusal</td><td>0.8709</td><td>0.241</td><td>0.000</td><td>0.279</td></tr>
                <tr><td>Full stack</td><td>0.8427</td><td>0.283</td><td>0.016</td><td>0.279</td></tr>
            </tbody>
        </table>
    </div>

    <div class="section">
        <h2>Memorization Scaling Analysis</h2>
        <div class="chart-grid">
            <div class="chart-card">
                <h3>Memorization vs Model Size (Power Law)</h3>
                <canvas id="chart-memorization"></canvas>
            </div>
            <div class="chart-card">
                <h3>Extraction vs Defense Strength by Model Size</h3>
                <canvas id="chart-tradeoff"></canvas>
            </div>
        </div>
    </div>

    <div class="section">
        <h2>Statistical Tests</h2>
        <table>
            <thead>
                <tr>
                    <th>Model 1</th>
                    <th>Model 2</th>
                    <th>Rate 1</th>
                    <th>Rate 2</th>
                    <th>z-stat</th>
                    <th>p-value</th>
                    <th>Significant</th>
                    <th>Cohen's h</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>Model-A</td><td>Model-B</td><td>0.1326</td><td>0.1434</td><td>-0.700</td><td>0.484</td><td>No</td><td>0.031</td></tr>
                <tr><td>Model-A</td><td>Model-C</td><td>0.1326</td><td>0.0780</td><td>3.978</td><td>&lt;0.001</td><td style="color:var(--success);font-weight:600;">Yes</td><td>0.179</td></tr>
                <tr><td>Model-A</td><td>Model-D</td><td>0.1326</td><td>0.1488</td><td>-1.042</td><td>0.298</td><td>No</td><td>0.047</td></tr>
                <tr><td>Model-B</td><td>Model-C</td><td>0.1434</td><td>0.0780</td><td>4.661</td><td>&lt;0.001</td><td style="color:var(--success);font-weight:600;">Yes</td><td>0.211</td></tr>
                <tr><td>Model-B</td><td>Model-D</td><td>0.1434</td><td>0.1488</td><td>-0.342</td><td>0.732</td><td>No</td><td>0.015</td></tr>
                <tr><td>Model-C</td><td>Model-D</td><td>0.0780</td><td>0.1488</td><td>-4.993</td><td>&lt;0.001</td><td style="color:var(--success);font-weight:600;">Yes</td><td>0.226</td></tr>
            </tbody>
        </table>
    </div>

</div>

<div class="footer">
    Feasibility of Extracting Copyrighted Text from Production LLMs | Computational Analysis | Open Problems in Applied Data Science
</div>

<script>
// Chart 1: Standard vs Jailbreak Extraction
new Chart(document.getElementById('chart-extraction'), {
    type: 'bar',
    data: {
        labels: ['Model-A (175B)', 'Model-B (540B)', 'Model-C (65B)', 'Model-D (1000B)'],
        datasets: [
            {
                label: 'Standard Attack',
                data: [0.1326, 0.1434, 0.0780, 0.1488],
                backgroundColor: '#1a3a5c',
            },
            {
                label: 'With Jailbreak',
                data: [0.3396, 0.3782, 0.1998, 0.3826],
                backgroundColor: '#e74c3c',
            }
        ]
    },
    options: {
        responsive: true,
        plugins: { legend: { position: 'top' } },
        scales: { y: { beginAtZero: true, title: { display: true, text: 'Extraction Rate' } } }
    }
});

// Chart 2: Defense vs Memorization
new Chart(document.getElementById('chart-defense-mem'), {
    type: 'bar',
    data: {
        labels: ['Model-A (175B)', 'Model-B (540B)', 'Model-C (65B)', 'Model-D (1000B)'],
        datasets: [
            {
                label: 'Defense Effectiveness',
                data: [0.8265, 0.8454, 0.8307, 0.8482],
                backgroundColor: '#2980b9',
            },
            {
                label: 'Memorization Rate',
                data: [0.780, 0.946, 0.432, 0.974],
                backgroundColor: '#27ae60',
            }
        ]
    },
    options: {
        responsive: true,
        plugins: { legend: { position: 'top' } },
        scales: { y: { beginAtZero: true, max: 1.0, title: { display: true, text: 'Rate' } } }
    }
});

// Chart 3: Defense Configuration Effectiveness
new Chart(document.getElementById('chart-defense-configs'), {
    type: 'bar',
    data: {
        labels: ['None', 'Filter', 'Act.Cap', 'RLHF', 'Refusal', 'Flt+RLHF', 'Flt+Ref', 'RLHF+Ref', 'Full'],
        datasets: [{
            label: 'Effectiveness',
            data: [0.1577, 0.7069, 0.3365, 0.8110, 0.7732, 0.9016, 0.8885, 0.8709, 0.8427],
            backgroundColor: '#1a3a5c',
        }]
    },
    options: {
        responsive: true,
        indexAxis: 'y',
        plugins: { legend: { display: false } },
        scales: { x: { beginAtZero: true, max: 1.0, title: { display: true, text: 'Effectiveness' } } }
    }
});

// Chart 4: Defense Costs
new Chart(document.getElementById('chart-defense-costs'), {
    type: 'bar',
    data: {
        labels: ['None', 'Filter', 'Act.Cap', 'RLHF', 'Refusal', 'Flt+RLHF', 'Flt+Ref', 'RLHF+Ref', 'Full'],
        datasets: [
            {
                label: 'False Positive Rate',
                data: [0.069, 0.120, 0.069, 0.069, 0.241, 0.120, 0.283, 0.241, 0.283],
                backgroundColor: '#e74c3c',
            },
            {
                label: 'Jailbreak Vulnerability',
                data: [0.100, 0.100, 0.100, 0.456, 0.061, 0.456, 0.061, 0.279, 0.279],
                backgroundColor: '#f39c12',
            }
        ]
    },
    options: {
        responsive: true,
        indexAxis: 'y',
        plugins: { legend: { position: 'top' } },
        scales: { x: { beginAtZero: true, max: 0.6, title: { display: true, text: 'Rate' } } }
    }
});

// Chart 5: Memorization Scaling
(async function() {
    const data = await fetch('../data/memorization_results.json').then(r => r.json()).catch(() => null);
    if (!data | !data.curves_by_duplication) return;

    const colors = ['#1a3a5c', '#2980b9', '#27ae60', '#e74c3c'];
    const datasets = data.curves_by_duplication.map((curve, i) => ({
        label: 'Duplication = ' + curve.duplication,
        data: curve.model_sizes.map((s, j) => ({ x: s, y: curve.memorization_probs[j] })),
        borderColor: colors[i],
        backgroundColor: colors[i] + '33',
        pointRadius: 4,
        tension: 0.3,
    }));

    new Chart(document.getElementById('chart-memorization'), {
        type: 'line',
        data: { datasets },
        options: {
            responsive: true,
            plugins: { legend: { position: 'top' } },
            scales: {
                x: { type: 'logarithmic', title: { display: true, text: 'Model Size (B params)' } },
                y: { beginAtZero: true, title: { display: true, text: 'Memorization Probability' } }
            }
        }
    });
})();

// Chart 6: Extraction vs Defense Tradeoff
(async function() {
    const data = await fetch('../data/scaling_results.json').then(r => r.json()).catch(() => null);
    if (!data | !data.extraction_vs_defense) return;

    const evd = data.extraction_vs_defense;
    const labels = evd.defense_levels;
    const colors = ['#1a3a5c', '#2980b9', '#27ae60', '#e74c3c'];
    const sizeKeys = Object.keys(evd).filter(k => k.startsWith('size_'));

    const datasets = sizeKeys.map((key, i) => ({
        label: key.replace('size_', '').replace('B', 'B params'),
        data: evd[key],
        borderColor: colors[i],
        backgroundColor: colors[i] + '33',
        pointRadius: 0,
        tension: 0.3,
    }));

    new Chart(document.getElementById('chart-tradeoff'), {
        type: 'line',
        data: { labels: labels.map(v => v.toFixed(2)), datasets },
        options: {
            responsive: true,
            plugins: { legend: { position: 'top' } },
            scales: {
                x: { title: { display: true, text: 'Defense Strength' } },
                y: { beginAtZero: true, title: { display: true, text: 'Extraction Rate' } }
            }
        }
    });
})();
</script>

</body>
</html>
