<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Avoiding Diversity Collapse in RL with Execution Rewards</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7"></script>
<style>
:root{--primary:#1a3a5c;--accent:#2980b9;--bg:#f5f7fa;--card:#fff;--text:#2c3e50;--text-light:#6c7a89;--success:#27ae60;--warning:#f39c12;--danger:#e74c3c;--border:#e1e8ef}
*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Segoe UI',system-ui,-apple-system,sans-serif;background:var(--bg);color:var(--text);line-height:1.6}
.hero{background:linear-gradient(135deg,var(--primary) 0%,var(--accent) 100%);color:#fff;padding:3rem 2rem;text-align:center}.hero h1{font-size:1.9rem;margin-bottom:.5rem}.hero .subtitle{font-size:1.05rem;opacity:.9;max-width:850px;margin:0 auto}
.container{max-width:1200px;margin:0 auto;padding:2rem 1.5rem}
.metrics-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.2rem;margin-bottom:2rem}
.metric-card{background:var(--card);border-radius:12px;padding:1.5rem;box-shadow:0 2px 8px rgba(0,0,0,.06);text-align:center;border-top:4px solid var(--accent)}.metric-card .value{font-size:1.8rem;font-weight:700;color:var(--primary)}.metric-card .label{font-size:.82rem;color:var(--text-light);margin-top:.3rem}
.charts-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr));gap:1.5rem;margin-bottom:2rem}
.chart-card{background:var(--card);border-radius:12px;padding:1.5rem;box-shadow:0 2px 8px rgba(0,0,0,.06)}.chart-card h3{font-size:1.1rem;color:var(--primary);margin-bottom:1rem}
.table-card{background:var(--card);border-radius:12px;padding:1.5rem;box-shadow:0 2px 8px rgba(0,0,0,.06);margin-bottom:2rem;overflow-x:auto}.table-card h3{font-size:1.1rem;color:var(--primary);margin-bottom:1rem}
table{width:100%;border-collapse:collapse}th,td{padding:.7rem 1rem;text-align:center;border-bottom:1px solid var(--border)}th{background:var(--primary);color:#fff;font-size:.82rem;text-transform:uppercase}tr:hover{background:#f0f4f8}
.section-title{font-size:1.5rem;color:var(--primary);margin-bottom:1rem;font-weight:700}
.best{font-weight:700;color:var(--accent)}
footer{text-align:center;padding:2rem;color:var(--text-light);font-size:.85rem;border-top:1px solid var(--border)}
@media(max-width:768px){.hero h1{font-size:1.3rem}.charts-grid{grid-template-columns:1fr}.metrics-grid{grid-template-columns:repeat(2,1fr)}}
</style>
</head>
<body>

<div class="hero">
  <h1>Avoiding Diversity Collapse in RL with Execution Rewards</h1>
  <p class="subtitle">Three algorithms -- QD-GRPO, MaxEnt-GRPO, and Population-GRPO -- to prevent convergence collapse in open-ended research idea generation with GRPO.</p>
</div>

<div class="container">
  <div class="metrics-grid">
    <div class="metric-card"><div class="value">0.959</div><div class="label">Best Max Reward (Pop-GRPO)</div></div>
    <div class="metric-card"><div class="value">0.997</div><div class="label">Pop-GRPO Diversity</div></div>
    <div class="metric-card"><div class="value">0.841</div><div class="label">Baseline Max Reward</div></div>
    <div class="metric-card"><div class="value">0.968</div><div class="label">Baseline Diversity</div></div>
  </div>

  <h2 class="section-title">Method Comparison</h2>
  <div class="charts-grid">
    <div class="chart-card">
      <h3>Max Reward vs Diversity</h3>
      <canvas id="scatterChart"></canvas>
    </div>
    <div class="chart-card">
      <h3>Performance Metrics</h3>
      <canvas id="barChart"></canvas>
    </div>
  </div>

  <div class="charts-grid">
    <div class="chart-card">
      <h3>Reward-Diversity Tradeoff</h3>
      <canvas id="tradeChart"></canvas>
    </div>
    <div class="chart-card">
      <h3>Complexity (Thinking Trace Length)</h3>
      <canvas id="complexChart"></canvas>
    </div>
  </div>

  <h2 class="section-title">Detailed Results</h2>
  <div class="table-card">
    <h3>Main Comparison (Last 10 Epochs)</h3>
    <table>
      <thead><tr><th>Method</th><th>Mean Reward</th><th>Max Reward</th><th>Diversity</th><th>Complexity</th></tr></thead>
      <tbody>
        <tr><td>GRPO (Baseline)</td><td>0.072</td><td>0.841</td><td>0.968</td><td>3.43</td></tr>
        <tr><td>QD-GRPO</td><td class="best">0.081</td><td>0.812</td><td>0.943</td><td>3.43</td></tr>
        <tr><td>MaxEnt-GRPO</td><td>0.008</td><td>0.442</td><td class="best">0.994</td><td class="best">28.86</td></tr>
        <tr><td class="best">Pop-GRPO</td><td class="best">0.087</td><td class="best">0.959</td><td class="best">0.997</td><td>3.75</td></tr>
      </tbody>
    </table>
  </div>
</div>

<script>
const methods=['GRPO','QD-GRPO','MaxEnt-GRPO','Pop-GRPO'];
const colors=['#e74c3c','#27ae60','#2980b9','#e67e22'];

new Chart(document.getElementById('scatterChart'),{
  type:'scatter',
  data:{datasets:[
    {label:'GRPO',data:[{x:0.9675,y:0.8412}],backgroundColor:'#e74c3c',pointRadius:10},
    {label:'QD-GRPO',data:[{x:0.9433,y:0.8122}],backgroundColor:'#27ae60',pointRadius:10},
    {label:'MaxEnt-GRPO',data:[{x:0.9944,y:0.442}],backgroundColor:'#2980b9',pointRadius:10},
    {label:'Pop-GRPO',data:[{x:0.9969,y:0.9588}],backgroundColor:'#e67e22',pointRadius:10}
  ]},
  options:{responsive:true,plugins:{legend:{position:'top'}},scales:{x:{title:{display:true,text:'Diversity'},min:0.9,max:1.01},y:{title:{display:true,text:'Max Reward'},min:0,max:1.1}}}
});

new Chart(document.getElementById('barChart'),{
  type:'bar',
  data:{labels:methods,datasets:[
    {label:'Mean Reward',data:[0.0716,0.0814,0.0082,0.0865],backgroundColor:'rgba(41,128,185,0.7)'},
    {label:'Max Reward',data:[0.8412,0.8122,0.442,0.9588],backgroundColor:'rgba(230,126,34,0.7)'},
    {label:'Diversity',data:[0.9675,0.9433,0.9944,0.9969],backgroundColor:'rgba(39,174,96,0.7)'}
  ]},
  options:{responsive:true,plugins:{legend:{position:'top'}},scales:{y:{title:{display:true,text:'Value'},min:0,max:1.1}}}
});

new Chart(document.getElementById('tradeChart'),{
  type:'radar',
  data:{labels:['Mean R','Max R','Diversity','Complexity (norm)'],datasets:[
    {label:'GRPO',data:[0.0716,0.8412,0.9675,0.119],borderColor:'#e74c3c',fill:false},
    {label:'QD-GRPO',data:[0.0814,0.8122,0.9433,0.119],borderColor:'#27ae60',fill:false},
    {label:'MaxEnt-GRPO',data:[0.0082,0.442,0.9944,1.0],borderColor:'#2980b9',fill:false},
    {label:'Pop-GRPO',data:[0.0865,0.9588,0.9969,0.13],borderColor:'#e67e22',fill:false}
  ]},
  options:{responsive:true,plugins:{legend:{position:'top'}},scales:{r:{min:0,max:1}}}
});

new Chart(document.getElementById('complexChart'),{
  type:'bar',
  data:{labels:methods,datasets:[{label:'Complexity',data:[3.43,3.43,28.86,3.75],backgroundColor:colors}]},
  options:{responsive:true,plugins:{legend:{display:false}},scales:{y:{title:{display:true,text:'Mean Complexity'}}}}
});
</script>
</body>
</html>
