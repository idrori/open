<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conditions for Unguided Reachability of Guidance-Like Computation</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        .header {
            background: linear-gradient(135deg, #2176AE, #1a5c8a);
            color: white;
            padding: 2rem;
            text-align: center;
        }
        .header h1 {
            font-size: 1.6rem;
            margin-bottom: 0.5rem;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
        }
        .header p {
            font-size: 0.95rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1.5rem;
        }
        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        .card {
            background: white;
            border-radius: 10px;
            padding: 1.2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            text-align: center;
        }
        .card .value {
            font-size: 1.8rem;
            font-weight: 700;
            color: #2176AE;
        }
        .card .label {
            font-size: 0.85rem;
            color: #666;
            margin-top: 0.3rem;
        }
        .card.warn .value { color: #E8553A; }
        .card.good .value { color: #3BB273; }
        .chart-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(520px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        .chart-box {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }
        .chart-box h3 {
            font-size: 1rem;
            color: #333;
            margin-bottom: 1rem;
        }
        .chart-box canvas {
            width: 100% !important;
            max-height: 350px;
        }
        .chart-box.full-width {
            grid-column: 1 / -1;
        }
        .findings {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            margin-bottom: 2rem;
        }
        .findings h2 {
            font-size: 1.2rem;
            color: #2176AE;
            margin-bottom: 1rem;
        }
        .findings ul {
            padding-left: 1.5rem;
        }
        .findings li {
            margin-bottom: 0.6rem;
        }
        .findings strong {
            color: #2176AE;
        }
        .footer {
            text-align: center;
            padding: 1.5rem;
            color: #888;
            font-size: 0.85rem;
        }
        .footer a {
            color: #2176AE;
            text-decoration: none;
        }
        @media (max-width: 600px) {
            .chart-grid { grid-template-columns: 1fr; }
            .header h1 { font-size: 1.2rem; }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Conditions for Unguided Reachability of Guidance-Like Computation</h1>
        <p>Investigating whether unguided rollouts from a base language model can reach states similar to those induced by oracle-provided guidance prefixes (POPE, Qu et al. 2026)</p>
    </div>

    <div class="container">
        <div class="summary-cards">
            <div class="card warn">
                <div class="value">0.287</div>
                <div class="label">R-squared for Exponential Decay Fit</div>
            </div>
            <div class="card">
                <div class="value">0.0108</div>
                <div class="label">Decay Constant (alpha)</div>
            </div>
            <div class="card good">
                <div class="value">0.559</div>
                <div class="label">Min Curriculum Stage Hit Rate</div>
            </div>
            <div class="card">
                <div class="value">0.3045</div>
                <div class="label">Max Spectral Gap (tau=10.0)</div>
            </div>
        </div>

        <div class="chart-grid">
            <div class="chart-box">
                <h3>Experiment 1: Reachability vs. Guidance Length</h3>
                <canvas id="chart1"></canvas>
            </div>
            <div class="chart-box">
                <h3>Experiment 1b: Log Hit Rate vs. Effective Information</h3>
                <canvas id="chart1b"></canvas>
            </div>
            <div class="chart-box">
                <h3>Experiment 2: Spectral Gap vs. Temperature</h3>
                <canvas id="chart2"></canvas>
            </div>
            <div class="chart-box">
                <h3>Experiment 3: Curriculum Hit Rates by Stage</h3>
                <canvas id="chart3"></canvas>
            </div>
            <div class="chart-box">
                <h3>Experiment 3b: Per-Step Information Profile</h3>
                <canvas id="chart3b"></canvas>
            </div>
            <div class="chart-box">
                <h3>Experiment 4: Spectral Characterization</h3>
                <canvas id="chart4"></canvas>
            </div>
            <div class="chart-box full-width">
                <h3>Experiment 5: Hit Rate vs. Effective Information (Parameter Sweep)</h3>
                <canvas id="chart5"></canvas>
            </div>
        </div>

        <div class="findings">
            <h2>Key Findings</h2>
            <ul>
                <li><strong>Exponential Decay Conjecture:</strong> The fitted model log P(hit) = -0.0108 * I_eff - 2.306 shows a general downward trend (R-squared = 0.287), but the moderate fit quality suggests the decay is not purely exponential. Hit rates plateau around 0.04--0.05 for guidance lengths L >= 6.</li>
                <li><strong>Temperature Controls Exploration:</strong> The spectral gap increases monotonically from 0.00024 (tau = 0.3) to 0.3045 (tau = 10.0), spanning over three orders of magnitude. Higher temperature improves mixing but does not change the stationary target mass, which remains constant at approximately 0.259.</li>
                <li><strong>Curriculum Viability:</strong> The curriculum approach maintains all stage hit rates above 0.559 (minimum at stage k=7). Per-step information alternates between low-information steps (1.538 nats) and high-information steps (4.038 nats), with a mean of 2.788 nats.</li>
                <li><strong>Phase Transition in State-Space Size:</strong> The parameter sweep reveals that reachability collapses for larger state spaces. At (D=5, B=4) with 1024 states, the hit rate drops to 0.020 at tau=0.5. Configurations with I_eff above approximately 40 nats tend to have hit rates below 0.2.</li>
                <li><strong>Practical Diagnostic:</strong> If the estimated effective information of a guidance prefix exceeds roughly 40 nats, unguided reachability is unlikely. The spectral gap should be above approximately 0.001 for practical exploration.</li>
            </ul>
        </div>

        <div class="footer">
            <p>Based on POPE (Qu et al., arXiv:2601.18779, Jan 2026) |
            <a href="https://www.emergentmind.com/open-problems/conditions-for-unguided-reachability-of-guidance-like-computation">Open Problem</a></p>
        </div>
    </div>

    <script>
    // ===== DATA FROM EXPERIMENTS (loaded from data/*.json) =====

    // Exp1: Reachability vs Guidance Length
    const exp1 = {
        guidance_lengths: [2, 4, 6, 8, 10, 14, 18, 22],
        hit_rates: [0.224, 0.0517, 0.0467, 0.0477, 0.087, 0.053, 0.043, 0.046],
        I_effs: [9.02, 18.05, 24.57, 33.60, 42.62, 55.67, 73.71, 89.26],
        log_hit_rates: [-1.50, -2.96, -3.06, -3.04, -2.44, -2.94, -3.15, -3.08],
        fit: { alpha: 0.0108, beta: -2.306, R_squared: 0.287 }
    };

    // Exp2: Reachability vs Temperature
    const exp2 = {
        temperatures: [0.3, 0.5, 0.8, 1.0, 1.5, 2.0, 3.0, 5.0],
        hit_rates: [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],
        spectral_gaps: [0.000180, 0.004986, 0.030291, 0.052882, 0.102817, 0.136603, 0.174379, 0.205551]
    };

    // Exp3: Curriculum vs One-Shot
    const exp3 = {
        stages: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],
        hit_rates: [1.0, 1.0, 1.0, 1.0, 0.5615, 0.5745, 0.569, 0.559, 0.5675, 1.0, 1.0, 1.0, 1.0],
        per_step_info: [1.538, 4.038, 4.038, 4.038, 1.538, 1.538, 4.038, 1.538, 4.038, 4.038, 1.538, 1.538],
        oneshot_hit_rate: 1.0,
        min_stage_hit_rate: 0.559
    };

    // Exp4: Spectral Stationary
    const exp4 = {
        temperatures: [0.3, 0.5, 1.0, 2.0, 5.0, 10.0],
        spectral_gaps: [0.000240, 0.006648, 0.070509, 0.182138, 0.274069, 0.304504],
        target_masses: [0.2593, 0.2593, 0.2593, 0.2593, 0.2593, 0.2593],
        predicted_reachability: [0.0001, 0.0017, 0.0183, 0.0472, 0.0711, 0.0789]
    };

    // Exp5: Parameter sweep
    const exp5 = [
        {D:3, B:3, temperature:0.5, I_eff:38.90, hit_rate:0.203},
        {D:3, B:3, temperature:1.0, I_eff:25.00, hit_rate:0.807},
        {D:3, B:3, temperature:2.0, I_eff:19.91, hit_rate:0.988},
        {D:3, B:3, temperature:5.0, I_eff:18.14, hit_rate:0.999},
        {D:3, B:4, temperature:0.5, I_eff:33.95, hit_rate:0.195},
        {D:3, B:4, temperature:1.0, I_eff:23.05, hit_rate:0.716},
        {D:3, B:4, temperature:2.0, I_eff:20.00, hit_rate:0.939},
        {D:3, B:4, temperature:5.0, I_eff:19.58, hit_rate:0.976},
        {D:4, B:3, temperature:0.5, I_eff:31.20, hit_rate:1.000},
        {D:4, B:3, temperature:1.0, I_eff:22.31, hit_rate:1.000},
        {D:4, B:3, temperature:2.0, I_eff:19.71, hit_rate:1.000},
        {D:4, B:3, temperature:5.0, I_eff:19.45, hit_rate:1.000},
        {D:4, B:4, temperature:0.5, I_eff:31.25, hit_rate:1.000},
        {D:4, B:4, temperature:1.0, I_eff:22.85, hit_rate:1.000},
        {D:4, B:4, temperature:2.0, I_eff:21.05, hit_rate:1.000},
        {D:4, B:4, temperature:5.0, I_eff:21.38, hit_rate:1.000},
        {D:5, B:3, temperature:0.5, I_eff:47.98, hit_rate:0.129},
        {D:5, B:3, temperature:1.0, I_eff:31.59, hit_rate:0.384},
        {D:5, B:3, temperature:2.0, I_eff:25.25, hit_rate:0.565},
        {D:5, B:3, temperature:5.0, I_eff:22.73, hit_rate:0.675},
        {D:5, B:4, temperature:0.5, I_eff:43.04, hit_rate:0.020},
        {D:5, B:4, temperature:1.0, I_eff:29.64, hit_rate:0.145},
        {D:5, B:4, temperature:2.0, I_eff:25.34, hit_rate:0.272},
        {D:5, B:4, temperature:5.0, I_eff:24.17, hit_rate:0.339}
    ];

    // ===== CHART 1: Hit Rate vs Guidance Length =====
    new Chart(document.getElementById('chart1'), {
        type: 'line',
        data: {
            labels: exp1.guidance_lengths,
            datasets: [{
                label: 'Hit Rate',
                data: exp1.hit_rates,
                borderColor: '#2176AE',
                backgroundColor: 'rgba(33,118,174,0.1)',
                fill: true,
                tension: 0.3,
                pointRadius: 5,
                pointBackgroundColor: '#2176AE'
            }]
        },
        options: {
            responsive: true,
            scales: {
                x: { title: { display: true, text: 'Guidance Length L' } },
                y: { title: { display: true, text: 'Hit Rate P(hit)' }, min: 0 }
            }
        }
    });

    // ===== CHART 1b: Log Hit Rate vs I_eff =====
    const fitLine1b = exp1.I_effs.map(x => -exp1.fit.alpha * x + exp1.fit.beta);
    new Chart(document.getElementById('chart1b'), {
        type: 'scatter',
        data: {
            datasets: [{
                label: 'Observed',
                data: exp1.I_effs.map((x, i) => ({x: x, y: exp1.log_hit_rates[i]})),
                borderColor: '#2176AE',
                backgroundColor: '#2176AE',
                pointRadius: 6
            }, {
                label: 'Fit: alpha=0.0108, R^2=0.287',
                data: exp1.I_effs.map((x, i) => ({x: x, y: fitLine1b[i]})),
                borderColor: '#E8553A',
                backgroundColor: 'transparent',
                type: 'line',
                pointRadius: 0,
                borderDash: [6, 3],
                borderWidth: 2
            }]
        },
        options: {
            responsive: true,
            scales: {
                x: { title: { display: true, text: 'Effective Information I_eff (nats)' } },
                y: { title: { display: true, text: 'ln P(hit)' } }
            }
        }
    });

    // ===== CHART 2: Spectral Gap vs Temperature =====
    new Chart(document.getElementById('chart2'), {
        type: 'line',
        data: {
            labels: exp2.temperatures,
            datasets: [{
                label: 'Spectral Gap',
                data: exp2.spectral_gaps,
                borderColor: '#E8553A',
                backgroundColor: 'rgba(232,85,58,0.1)',
                fill: true,
                tension: 0.3,
                pointRadius: 5,
                pointBackgroundColor: '#E8553A'
            }]
        },
        options: {
            responsive: true,
            scales: {
                x: { title: { display: true, text: 'Temperature (tau)' } },
                y: { title: { display: true, text: 'Spectral Gap (gamma)' }, min: 0 }
            }
        }
    });

    // ===== CHART 3: Curriculum Stages =====
    new Chart(document.getElementById('chart3'), {
        type: 'bar',
        data: {
            labels: exp3.stages,
            datasets: [{
                label: 'Hit Rate',
                data: exp3.hit_rates,
                backgroundColor: exp3.hit_rates.map(h => h < 0.6 ? 'rgba(232,85,58,0.7)' : 'rgba(59,178,115,0.7)'),
                borderColor: exp3.hit_rates.map(h => h < 0.6 ? '#E8553A' : '#3BB273'),
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            scales: {
                x: { title: { display: true, text: 'Curriculum Stage k (guidance steps removed)' } },
                y: { title: { display: true, text: 'Hit Rate' }, min: 0, max: 1.1 }
            },
            plugins: {
                annotation: {}
            }
        }
    });

    // ===== CHART 3b: Per-Step Info =====
    new Chart(document.getElementById('chart3b'), {
        type: 'bar',
        data: {
            labels: exp3.per_step_info.map((_, i) => 'Step ' + (i+1)),
            datasets: [{
                label: 'Per-Step Information (nats)',
                data: exp3.per_step_info,
                backgroundColor: exp3.per_step_info.map(v => v > 3 ? 'rgba(123,45,142,0.7)' : 'rgba(33,118,174,0.7)'),
                borderColor: exp3.per_step_info.map(v => v > 3 ? '#7B2D8E' : '#2176AE'),
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            scales: {
                x: { title: { display: true, text: 'Guidance Step t' } },
                y: { title: { display: true, text: 'Information (nats)' }, min: 0 }
            }
        }
    });

    // ===== CHART 4: Spectral Characterization =====
    new Chart(document.getElementById('chart4'), {
        type: 'line',
        data: {
            labels: exp4.temperatures,
            datasets: [{
                label: 'Spectral Gap',
                data: exp4.spectral_gaps,
                borderColor: '#2176AE',
                backgroundColor: 'transparent',
                tension: 0.3,
                pointRadius: 5,
                yAxisID: 'y'
            }, {
                label: 'Predicted Reachability (gap * mass)',
                data: exp4.predicted_reachability,
                borderColor: '#3BB273',
                backgroundColor: 'transparent',
                tension: 0.3,
                pointRadius: 5,
                borderDash: [5, 3],
                yAxisID: 'y'
            }, {
                label: 'Target Mass',
                data: exp4.target_masses,
                borderColor: '#E8553A',
                backgroundColor: 'transparent',
                tension: 0.3,
                pointRadius: 5,
                borderDash: [2, 2],
                yAxisID: 'y1'
            }]
        },
        options: {
            responsive: true,
            scales: {
                x: { title: { display: true, text: 'Temperature (tau)' } },
                y: { title: { display: true, text: 'Spectral Gap / Predicted Reach.' }, position: 'left', min: 0 },
                y1: { title: { display: true, text: 'Target Mass' }, position: 'right', min: 0, max: 0.5, grid: { drawOnChartArea: false } }
            }
        }
    });

    // ===== CHART 5: Scatter of I_eff vs Hit Rate =====
    const b3data = exp5.filter(r => r.B === 3);
    const b4data = exp5.filter(r => r.B === 4);
    new Chart(document.getElementById('chart5'), {
        type: 'scatter',
        data: {
            datasets: [{
                label: 'B=3',
                data: b3data.map(r => ({x: r.I_eff, y: r.hit_rate})),
                borderColor: '#2176AE',
                backgroundColor: 'rgba(33,118,174,0.6)',
                pointRadius: 7
            }, {
                label: 'B=4',
                data: b4data.map(r => ({x: r.I_eff, y: r.hit_rate})),
                borderColor: '#E8553A',
                backgroundColor: 'rgba(232,85,58,0.6)',
                pointRadius: 7
            }]
        },
        options: {
            responsive: true,
            scales: {
                x: { title: { display: true, text: 'Effective Information I_eff (nats)' } },
                y: { title: { display: true, text: 'Hit Rate P(hit)' }, min: 0, max: 1.1 }
            }
        }
    });
    </script>
</body>
</html>
