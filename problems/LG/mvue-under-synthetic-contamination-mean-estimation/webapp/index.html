<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MVUE Under Synthetic Contamination: Mean Estimation</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7"></script>
<style>
  :root{--primary:#1a3a5c;--accent:#2980b9;--bg:#f5f7fa;--card:#fff;--text:#333;--border:#d0d7de}
  *{margin:0;padding:0;box-sizing:border-box}
  body{font-family:'Segoe UI',system-ui,sans-serif;background:var(--bg);color:var(--text);line-height:1.6}
  header{background:var(--primary);color:#fff;padding:2rem;text-align:center}
  header h1{font-size:1.5rem;margin-bottom:.5rem}
  header p{opacity:.85;font-size:.95rem;max-width:800px;margin:0 auto}
  .container{max-width:1200px;margin:0 auto;padding:1.5rem}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(560px,1fr));gap:1.5rem;margin-bottom:1.5rem}
  .card{background:var(--card);border-radius:8px;padding:1.5rem;box-shadow:0 1px 4px rgba(0,0,0,.08);border:1px solid var(--border)}
  .card h2{color:var(--primary);font-size:1.1rem;margin-bottom:1rem;border-bottom:2px solid var(--accent);padding-bottom:.5rem}
  .chart-container{position:relative;height:340px}
  table{width:100%;border-collapse:collapse;font-size:.85rem}
  th,td{padding:.5rem .75rem;text-align:right;border-bottom:1px solid var(--border)}
  th{background:var(--primary);color:#fff;font-weight:600}
  td:first-child,th:first-child{text-align:left}
  tr:hover{background:#eef3f8}
  .metric-row{display:flex;gap:1rem;margin-bottom:1.5rem;flex-wrap:wrap}
  .metric{flex:1;min-width:140px;background:var(--primary);color:#fff;border-radius:8px;padding:1rem;text-align:center}
  .metric .val{font-size:1.8rem;font-weight:700}
  .metric .label{font-size:.8rem;opacity:.85}
</style>
</head>
<body>
<header>
  <h1>MVUE Under Synthetic Contamination: Mean Estimation</h1>
  <p>Characterizing the minimum-variance unbiased estimator for mean estimation under recursive synthetic contamination.</p>
</header>
<div class="container">
  <div class="metric-row">
    <div class="metric"><div class="val">14.5%</div><div class="label">Max Variance Reduction</div></div>
    <div class="metric"><div class="val">0.3%</div><div class="label">GLS vs Joint Gap</div></div>
    <div class="metric"><div class="val">0.5</div><div class="label">Phase Transition at alpha</div></div>
    <div class="metric"><div class="val">~1.00</div><div class="label">MC Validation Ratio</div></div>
    <div class="metric"><div class="val">4</div><div class="label">Estimator Families</div></div>
  </div>
  <div class="grid">
    <div class="card">
      <h2>Variance Comparison Across Methods</h2>
      <div class="chart-container"><canvas id="chartVar"></canvas></div>
    </div>
    <div class="card">
      <h2>Improvement Over Uniform Weighting (%)</h2>
      <div class="chart-container"><canvas id="chartImprov"></canvas></div>
    </div>
    <div class="card">
      <h2>Variance Scaling with T (alpha=0.7)</h2>
      <div class="chart-container"><canvas id="chartScale"></canvas></div>
    </div>
    <div class="card">
      <h2>Monte Carlo Validation Ratios</h2>
      <div class="chart-container"><canvas id="chartMC"></canvas></div>
    </div>
  </div>
  <div class="card" style="margin-bottom:1.5rem">
    <h2>Estimator Variance for Selected (T, alpha) Configurations</h2>
    <table>
      <thead><tr><th>T</th><th>alpha</th><th>Uniform</th><th>Non-Unif.</th><th>GLS-FP</th><th>Joint Opt</th><th>Improv.</th></tr></thead>
      <tbody>
        <tr><td>3</td><td>0.3</td><td>0.3547</td><td>0.3569</td><td>0.3506</td><td><strong>0.3505</strong></td><td>1.2%</td></tr>
        <tr><td>3</td><td>0.7</td><td>0.4184</td><td>0.3992</td><td>0.3850</td><td><strong>0.3849</strong></td><td>8.0%</td></tr>
        <tr><td>3</td><td>0.9</td><td>0.4929</td><td>0.4309</td><td>0.4321</td><td><strong>0.4278</strong></td><td>13.2%</td></tr>
        <tr><td>5</td><td>0.3</td><td>0.2114</td><td>0.2166</td><td>0.2094</td><td><strong>0.2093</strong></td><td>1.0%</td></tr>
        <tr><td>5</td><td>0.7</td><td>0.2680</td><td>0.2507</td><td>0.2382</td><td><strong>0.2378</strong></td><td>11.3%</td></tr>
        <tr><td>5</td><td>0.9</td><td>0.3488</td><td>0.2908</td><td>0.3028</td><td><strong>0.2989</strong></td><td>14.3%</td></tr>
        <tr><td>8</td><td>0.3</td><td>0.1323</td><td>0.1370</td><td>0.1313</td><td><strong>0.1312</strong></td><td>0.8%</td></tr>
        <tr><td>8</td><td>0.7</td><td>0.1768</td><td>0.1633</td><td>0.1534</td><td><strong>0.1530</strong></td><td>13.5%</td></tr>
        <tr><td>8</td><td>0.9</td><td>0.2483</td><td>0.1996</td><td>0.2125</td><td><strong>0.2122</strong></td><td>14.5%</td></tr>
        <tr><td>10</td><td>0.5</td><td>0.1224</td><td>0.1184</td><td>0.1146</td><td><strong>0.1145</strong></td><td>6.5%</td></tr>
      </tbody>
    </table>
  </div>
  <div class="card">
    <h2>Monte Carlo Validation (n=100,000)</h2>
    <table>
      <thead><tr><th>T</th><th>alpha</th><th>Opt Theory</th><th>Opt Empir.</th><th>Opt Ratio</th><th>Unif Theory</th><th>Unif Empir.</th><th>Unif Ratio</th></tr></thead>
      <tbody>
        <tr><td>3</td><td>0.3</td><td>0.3505</td><td>0.3502</td><td>0.999</td><td>0.3547</td><td>0.3548</td><td>1.000</td></tr>
        <tr><td>3</td><td>0.7</td><td>0.3849</td><td>0.3852</td><td>1.001</td><td>0.4184</td><td>0.4179</td><td>0.999</td></tr>
        <tr><td>5</td><td>0.3</td><td>0.2093</td><td>0.2098</td><td>1.002</td><td>0.2114</td><td>0.2110</td><td>0.998</td></tr>
        <tr><td>5</td><td>0.7</td><td>0.2378</td><td>0.2380</td><td>1.001</td><td>0.2680</td><td>0.2685</td><td>1.002</td></tr>
        <tr><td>8</td><td>0.3</td><td>0.1312</td><td>0.1315</td><td>1.002</td><td>0.1323</td><td>0.1320</td><td>0.998</td></tr>
        <tr><td>8</td><td>0.7</td><td>0.1530</td><td>0.1528</td><td>0.999</td><td>0.1768</td><td>0.1770</td><td>1.001</td></tr>
      </tbody>
    </table>
  </div>
</div>
<script>
var C={responsive:true,maintainAspectRatio:false,plugins:{legend:{labels:{font:{size:11}}}}};

new Chart(document.getElementById('chartVar'),{type:'bar',data:{labels:['T=3,a=0.3','T=3,a=0.7','T=3,a=0.9','T=5,a=0.7','T=8,a=0.7','T=8,a=0.9'],datasets:[{label:'Uniform',data:[0.3547,0.4184,0.4929,0.2680,0.1768,0.2483],backgroundColor:'rgba(231,76,60,0.7)'},{label:'Non-Uniform',data:[0.3569,0.3992,0.4309,0.2507,0.1633,0.1996],backgroundColor:'rgba(230,126,34,0.7)'},{label:'GLS-FP',data:[0.3506,0.3850,0.4321,0.2382,0.1534,0.2125],backgroundColor:'rgba(41,128,185,0.7)'},{label:'Joint Opt',data:[0.3505,0.3849,0.4278,0.2378,0.1530,0.2122],backgroundColor:'rgba(26,58,92,0.7)'}]},options:{...C,scales:{y:{title:{display:true,text:'Variance'}}}}});

new Chart(document.getElementById('chartImprov'),{type:'bar',data:{labels:['T=3,a=0.3','T=3,a=0.7','T=3,a=0.9','T=5,a=0.3','T=5,a=0.7','T=5,a=0.9','T=8,a=0.3','T=8,a=0.7','T=8,a=0.9','T=10,a=0.5'],datasets:[{label:'Improvement %',data:[1.2,8.0,13.2,1.0,11.3,14.3,0.8,13.5,14.5,6.5],backgroundColor:'rgba(41,128,185,0.8)'}]},options:{...C,scales:{y:{title:{display:true,text:'Variance Reduction (%)'}}}}});

new Chart(document.getElementById('chartScale'),{type:'line',data:{labels:['3','5','8','10'],datasets:[{label:'Uniform (a=0.7)',data:[0.4184,0.2680,0.1768,null],borderColor:'#e74c3c',pointRadius:5,tension:.2},{label:'Joint Opt (a=0.7)',data:[0.3849,0.2378,0.1530,null],borderColor:'#1a3a5c',pointRadius:5,tension:.2},{label:'Uniform (a=0.3)',data:[0.3547,0.2114,0.1323,null],borderColor:'#e67e22',borderDash:[5,5],pointRadius:5,tension:.2},{label:'Joint Opt (a=0.3)',data:[0.3505,0.2093,0.1312,null],borderColor:'#2980b9',borderDash:[5,5],pointRadius:5,tension:.2}]},options:{...C,scales:{y:{title:{display:true,text:'Variance'}},x:{title:{display:true,text:'Number of Rounds (T)'}}}}});

var mcData=[0.999,1.001,1.002,1.001,1.002,0.999];
var mcLabels=['T=3,a=0.3','T=3,a=0.7','T=5,a=0.3','T=5,a=0.7','T=8,a=0.3','T=8,a=0.7'];
new Chart(document.getElementById('chartMC'),{type:'bar',data:{labels:mcLabels,datasets:[{label:'Optimal Ratio',data:mcData,backgroundColor:'rgba(26,58,92,0.7)'},{label:'Unity',data:[1,1,1,1,1,1],type:'line',borderColor:'#e74c3c',borderDash:[5,5],pointRadius:0}]},options:{...C,scales:{y:{min:0.995,max:1.005,title:{display:true,text:'Empirical / Theoretical Ratio'}}}}});
</script>
</body>
</html>
