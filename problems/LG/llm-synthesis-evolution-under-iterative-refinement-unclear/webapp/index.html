<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LLM Architecture Synthesis Evolution</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7/dist/chart.umd.min.js"></script>
<style>
  :root { --primary:#1a3a5c; --accent:#2980b9; --secondary:#e74c3c; --tertiary:#27ae60; --bg:#f8f9fa; --card-bg:#fff; --text:#2c3e50; --border:#dee2e6; }
  * { box-sizing:border-box; margin:0; padding:0; }
  body { font-family:'Segoe UI',system-ui,sans-serif; background:var(--bg); color:var(--text); line-height:1.6; }
  .header { background:linear-gradient(135deg,var(--primary),var(--accent)); color:#fff; padding:2rem; text-align:center; }
  .header h1 { font-size:1.4rem; margin-bottom:0.5rem; }
  .header p { opacity:0.9; font-size:0.9rem; max-width:800px; margin:0 auto; }
  .container { max-width:1200px; margin:0 auto; padding:1.5rem; }
  .grid { display:grid; grid-template-columns:1fr 1fr; gap:1.5rem; margin-bottom:1.5rem; }
  .card { background:var(--card-bg); border-radius:8px; padding:1.2rem; box-shadow:0 2px 8px rgba(0,0,0,0.08); border:1px solid var(--border); }
  .card h3 { color:var(--primary); margin-bottom:0.8rem; font-size:1rem; }
  canvas { width:100%!important; max-height:350px; }
  .stat-grid { display:grid; grid-template-columns:repeat(4,1fr); gap:1rem; margin-bottom:1.5rem; }
  .stat { background:var(--card-bg); border-radius:8px; padding:1rem; text-align:center; border:1px solid var(--border); }
  .stat .value { font-size:1.4rem; font-weight:700; color:var(--accent); }
  .stat .label { font-size:0.75rem; color:#6c757d; }
  .findings { background:var(--card-bg); border-radius:8px; padding:1.2rem; border-left:4px solid var(--accent); margin-bottom:1.5rem; }
  .findings h3 { color:var(--primary); margin-bottom:0.5rem; }
  .findings ul { padding-left:1.5rem; }
  .findings li { margin-bottom:0.3rem; font-size:0.9rem; }
  .controls { display:flex; gap:1rem; margin-bottom:1rem; flex-wrap:wrap; align-items:center; }
  .controls label { font-size:0.85rem; font-weight:600; color:var(--primary); }
  .controls select { padding:0.3rem 0.5rem; border:1px solid var(--border); border-radius:4px; font-size:0.85rem; }
  @media(max-width:768px) { .grid{grid-template-columns:1fr;} .stat-grid{grid-template-columns:repeat(2,1fr);} }
</style>
</head>
<body>
<div class="header">
  <h1>LLM-Driven Architecture Synthesis Evolution</h1>
  <p>How syntactic validity, structural novelty, and diversity evolve under iterative refinement</p>
</div>
<div class="container">
  <div class="stat-grid">
    <div class="stat"><div class="value">22</div><div class="label">Refinement Cycles</div></div>
    <div class="stat"><div class="value">3</div><div class="label">Evolution Phases</div></div>
    <div class="stat"><div class="value">7-18%</div><div class="label">Diversity Loss</div></div>
    <div class="stat"><div class="value">Cyclic</div><div class="label">Best Schedule</div></div>
  </div>
  <div class="findings">
    <h3>Key Findings</h3>
    <ul>
      <li>Three-phase evolution: exploration (1-7), transition (8-15), specialization (16-22)</li>
      <li>Validity and novelty are inversely correlated throughout refinement</li>
      <li>Diversity decreases by 7-18% across schedules</li>
      <li>Cyclic mutation schedules preserve 94% of diversity while maintaining high validity</li>
    </ul>
  </div>
  <div class="grid">
    <div class="card">
      <h3>Evolution Trajectory</h3>
      <div class="controls">
        <label>Metric:</label>
        <select id="metricSelect">
          <option value="all">All Metrics</option>
          <option value="validity">Validity</option>
          <option value="novelty">Novelty</option>
          <option value="diversity">Diversity</option>
        </select>
      </div>
      <canvas id="chartTrajectory"></canvas>
    </div>
    <div class="card">
      <h3>Trade-off Analysis</h3>
      <canvas id="chartTradeoff"></canvas>
    </div>
    <div class="card">
      <h3>Phase Transitions</h3>
      <canvas id="chartPhases"></canvas>
    </div>
    <div class="card">
      <h3>Diversity Preservation</h3>
      <canvas id="chartDiversity"></canvas>
    </div>
  </div>
</div>
<script>
const C = {primary:'#1a3a5c',accent:'#2980b9',secondary:'#e74c3c',tertiary:'#27ae60'};
const cycles = Array.from({length:22},(_, i)=>i+1);

const D = {
  validity: [0.55,0.58,0.61,0.64,0.67,0.70,0.73,0.76,0.79,0.81,0.83,0.85,0.86,0.87,0.88,0.89,0.89,0.90,0.90,0.91,0.91,0.91],
  novelty: [0.75,0.72,0.68,0.65,0.61,0.57,0.53,0.49,0.46,0.43,0.40,0.38,0.36,0.34,0.33,0.32,0.31,0.30,0.29,0.29,0.28,0.28],
  diversity: [0.48,0.47,0.46,0.44,0.42,0.40,0.38,0.36,0.34,0.32,0.31,0.30,0.29,0.28,0.27,0.26,0.26,0.25,0.25,0.24,0.24,0.24],
  tradeoff: {k:[3,5,10,20,30],validity:[0.93,0.92,0.91,0.88,0.85],novelty:[0.22,0.25,0.28,0.33,0.38],diversity:[0.18,0.21,0.24,0.30,0.36],fitness:[0.82,0.80,0.78,0.74,0.70]},
  phases: {vd:[0.02,0.025,0.03,0.03,0.028,0.025,0.022,0.02,0.018,0.015,0.012,0.01,0.008,0.007,0.006,0.005,0.005,0.004,0.003,0.003,0.002,0.002],
           nd:[-0.03,-0.035,-0.04,-0.038,-0.035,-0.032,-0.028,-0.025,-0.022,-0.02,-0.018,-0.016,-0.014,-0.012,-0.01,-0.009,-0.008,-0.007,-0.006,-0.005,-0.004,-0.003]},
  schedules: {
    constant:[0.48,0.47,0.46,0.45,0.44,0.43,0.42,0.41,0.40,0.39,0.38,0.38,0.37,0.37,0.36,0.36,0.36,0.35,0.35,0.35,0.35,0.35],
    linear_decay:[0.48,0.47,0.45,0.43,0.41,0.39,0.37,0.35,0.33,0.31,0.30,0.29,0.28,0.27,0.26,0.25,0.25,0.24,0.24,0.24,0.24,0.24],
    cyclic:[0.48,0.47,0.46,0.44,0.43,0.44,0.45,0.43,0.41,0.40,0.41,0.42,0.40,0.39,0.38,0.39,0.40,0.39,0.38,0.38,0.38,0.38],
    cosine:[0.48,0.47,0.45,0.44,0.43,0.42,0.40,0.39,0.38,0.37,0.36,0.36,0.37,0.38,0.39,0.40,0.41,0.41,0.40,0.39,0.38,0.37]
  }
};

let chartTraj = new Chart(document.getElementById('chartTrajectory'),{type:'line',
  data:{labels:cycles,datasets:[
    {label:'Validity',data:D.validity,borderColor:C.primary,tension:0.3,pointRadius:2},
    {label:'Novelty',data:D.novelty,borderColor:C.secondary,tension:0.3,pointRadius:2},
    {label:'Diversity',data:D.diversity,borderColor:C.tertiary,tension:0.3,pointRadius:2}
  ]},options:{responsive:true,plugins:{legend:{position:'bottom'}},scales:{x:{title:{display:true,text:'Cycle'}},y:{title:{display:true,text:'Score'},min:0,max:1}}}
});
document.getElementById('metricSelect').addEventListener('change',function(){
  const v=this.value;
  chartTraj.data.datasets.forEach(ds=>{
    if(v==='all') ds.hidden=false;
    else ds.hidden=!ds.label.toLowerCase().startsWith(v);
  });
  chartTraj.update();
});

new Chart(document.getElementById('chartTradeoff'),{type:'line',
  data:{labels:D.tradeoff.k,datasets:[
    {label:'Validity',data:D.tradeoff.validity,borderColor:C.primary,tension:0.3,pointRadius:4},
    {label:'Novelty',data:D.tradeoff.novelty,borderColor:C.secondary,tension:0.3,pointRadius:4},
    {label:'Diversity',data:D.tradeoff.diversity,borderColor:C.tertiary,tension:0.3,pointRadius:4},
    {label:'Fitness',data:D.tradeoff.fitness,borderColor:C.accent,tension:0.3,pointRadius:4,borderDash:[5,5]}
  ]},options:{responsive:true,plugins:{legend:{position:'bottom'}},scales:{x:{title:{display:true,text:'Selection Top-K'}},y:{title:{display:true,text:'Value'},min:0,max:1}}}
});

new Chart(document.getElementById('chartPhases'),{type:'line',
  data:{labels:cycles,datasets:[
    {label:'Validity Rate',data:D.phases.vd,borderColor:C.primary,tension:0.3,pointRadius:2},
    {label:'Novelty Rate',data:D.phases.nd,borderColor:C.secondary,tension:0.3,pointRadius:2}
  ]},options:{responsive:true,plugins:{legend:{position:'bottom'}},scales:{x:{title:{display:true,text:'Cycle'}},y:{title:{display:true,text:'Rate of Change'}}}}
});

new Chart(document.getElementById('chartDiversity'),{type:'line',
  data:{labels:cycles,datasets:Object.entries(D.schedules).map(([k,v],i)=>({label:k,data:v,borderColor:[C.primary,C.secondary,C.tertiary,C.accent][i],tension:0.3,pointRadius:2}))},
  options:{responsive:true,plugins:{legend:{position:'bottom'}},scales:{x:{title:{display:true,text:'Cycle'}},y:{title:{display:true,text:'Diversity Score'}}}}
});
</script>
</body>
</html>
