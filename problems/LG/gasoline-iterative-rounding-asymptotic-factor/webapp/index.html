<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gasoline Iterative Rounding: Asymptotic Factor Analysis</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7/dist/chart.umd.min.js"></script>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: #f5f7fa;
    color: #1a1a2e;
    line-height: 1.6;
  }
  .header {
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
    color: white;
    padding: 2rem 1rem;
    text-align: center;
  }
  .header h1 { font-size: 1.5rem; margin-bottom: 0.5rem; font-weight: 600; }
  .header p { font-size: 0.95rem; opacity: 0.85; max-width: 800px; margin: 0 auto; }
  .container { max-width: 1200px; margin: 0 auto; padding: 1.5rem; }
  .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem; }
  @media (max-width: 768px) { .grid { grid-template-columns: 1fr; } }
  .card {
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.08);
    padding: 1.5rem;
    transition: box-shadow 0.2s;
  }
  .card:hover { box-shadow: 0 4px 20px rgba(0,0,0,0.12); }
  .card h2 { font-size: 1.1rem; color: #16213e; margin-bottom: 1rem; border-bottom: 2px solid #e94560; padding-bottom: 0.5rem; display: inline-block; }
  .card-full { grid-column: 1 / -1; }
  .chart-container { position: relative; width: 100%; height: 320px; }
  table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }
  th { background: #16213e; color: white; padding: 0.6rem 0.8rem; text-align: left; font-weight: 500; }
  td { padding: 0.5rem 0.8rem; border-bottom: 1px solid #e8e8e8; }
  tr:hover td { background: #f0f4ff; }
  .highlight { color: #e94560; font-weight: 600; }
  .formula {
    background: #f8f9fc;
    border-left: 4px solid #e94560;
    padding: 1rem 1.5rem;
    margin: 1rem 0;
    font-family: 'Georgia', serif;
    font-size: 1.05rem;
  }
  .tabs { display: flex; gap: 0.5rem; margin-bottom: 1rem; flex-wrap: wrap; }
  .tab-btn {
    padding: 0.5rem 1rem;
    border: 2px solid #16213e;
    background: white;
    color: #16213e;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.85rem;
    font-weight: 500;
    transition: all 0.2s;
  }
  .tab-btn.active, .tab-btn:hover { background: #16213e; color: white; }
  .stat-row { display: flex; gap: 1rem; flex-wrap: wrap; margin-bottom: 1rem; }
  .stat-box {
    flex: 1;
    min-width: 120px;
    background: #f8f9fc;
    border-radius: 8px;
    padding: 0.8rem;
    text-align: center;
  }
  .stat-box .label { font-size: 0.75rem; color: #666; text-transform: uppercase; letter-spacing: 0.5px; }
  .stat-box .value { font-size: 1.3rem; font-weight: 700; color: #16213e; }
  .stat-box .value.red { color: #e94560; }
  .badge {
    display: inline-block;
    padding: 0.2rem 0.6rem;
    border-radius: 4px;
    font-size: 0.75rem;
    font-weight: 600;
  }
  .badge-open { background: #fff3cd; color: #856404; }
  .ref-link { color: #0f3460; text-decoration: none; }
  .ref-link:hover { text-decoration: underline; }
  .proof-card { background: #f8f9fc; border-radius: 8px; padding: 1rem; margin-bottom: 0.8rem; }
  .proof-card h3 { font-size: 0.95rem; color: #e94560; margin-bottom: 0.3rem; }
  .proof-card p { font-size: 0.85rem; color: #444; }
</style>
</head>
<body>

<div class="header">
  <h1>Asymptotic Factor of Iterative Rounding on d-Dimensional Gasoline Instances</h1>
  <p>Computational study of the conjectured limiting ratio 2d for the iterative rounding algorithm on hard instances discovered via Co-FunSearch. Based on Nikoleit et al., arXiv:2601.16849 (Jan 2026).</p>
</div>

<div class="container">

  <!-- Key Stats -->
  <div class="card card-full">
    <h2>Key Results</h2>
    <div class="stat-row">
      <div class="stat-box">
        <div class="label">Conjecture</div>
        <div class="value red">Ratio &rarr; 2d</div>
      </div>
      <div class="stat-box">
        <div class="label">d=1 limit</div>
        <div class="value">2</div>
      </div>
      <div class="stat-box">
        <div class="label">d=2 limit</div>
        <div class="value">4</div>
      </div>
      <div class="stat-box">
        <div class="label">d=3 limit</div>
        <div class="value">6</div>
      </div>
      <div class="stat-box">
        <div class="label">d=4 limit</div>
        <div class="value">8</div>
      </div>
      <div class="stat-box">
        <div class="label">Status</div>
        <div class="value"><span class="badge badge-open">Open Problem</span></div>
      </div>
    </div>
    <div class="formula">
      Conjecture: lim<sub>k&rarr;&infin;</sub> APX(k,d) / OPT(k,d) = 2d, where each coordinate contributes factor &asymp; 2.
    </div>
  </div>

  <!-- Charts Row 1 -->
  <div class="grid">
    <div class="card">
      <h2>1D Scaling: APX vs Instance Size</h2>
      <div class="chart-container"><canvas id="chart1d"></canvas></div>
    </div>
    <div class="card">
      <h2>APX Growth Across Dimensions</h2>
      <div class="chart-container"><canvas id="chartMultiDim"></canvas></div>
    </div>
  </div>

  <!-- Charts Row 2 -->
  <div class="grid">
    <div class="card">
      <h2>LP Tracking: Value at Each Rounding Step</h2>
      <div class="chart-container"><canvas id="chartLP"></canvas></div>
    </div>
    <div class="card">
      <h2>Per-Coordinate Decomposition</h2>
      <div class="tabs" id="coordTabs">
        <button class="tab-btn active" onclick="showCoordChart('d2')">d=2, k=3</button>
        <button class="tab-btn" onclick="showCoordChart('d3')">d=3, k=2</button>
      </div>
      <div class="chart-container"><canvas id="chartCoord"></canvas></div>
    </div>
  </div>

  <!-- Data Tables -->
  <div class="grid">
    <div class="card">
      <h2>1D Scaling Data</h2>
      <table>
        <thead><tr><th>k</th><th>n</th><th>APX</th><th>OPT (LP)</th><th>APX/n</th></tr></thead>
        <tbody>
          <tr><td>2</td><td>6</td><td class="highlight">6.0</td><td>-2.0</td><td>1.00</td></tr>
          <tr><td>3</td><td>14</td><td class="highlight">25.0</td><td>-4.0</td><td>1.79</td></tr>
          <tr><td>4</td><td>30</td><td class="highlight">113.0</td><td>-8.0</td><td>3.77</td></tr>
          <tr><td>5</td><td>62</td><td class="highlight">481.0</td><td>-16.0</td><td>7.76</td></tr>
        </tbody>
      </table>
    </div>

    <div class="card">
      <h2>Multi-Dimensional Results</h2>
      <table>
        <thead><tr><th>d</th><th>k</th><th>n</th><th>APX</th><th>OPT (LP)</th><th>Predicted 2d</th></tr></thead>
        <tbody>
          <tr><td>1</td><td>2</td><td>6</td><td class="highlight">6.0</td><td>-2.0</td><td>2</td></tr>
          <tr><td>1</td><td>3</td><td>14</td><td class="highlight">25.0</td><td>-4.0</td><td>2</td></tr>
          <tr><td>1</td><td>4</td><td>30</td><td class="highlight">113.0</td><td>-8.0</td><td>2</td></tr>
          <tr><td>1</td><td>5</td><td>62</td><td class="highlight">481.0</td><td>-16.0</td><td>2</td></tr>
          <tr><td>2</td><td>2</td><td>6</td><td class="highlight">8.0</td><td>-4.0</td><td>4</td></tr>
          <tr><td>2</td><td>3</td><td>14</td><td class="highlight">29.0</td><td>-6.0</td><td>4</td></tr>
          <tr><td>3</td><td>2</td><td>12</td><td class="highlight">19.0</td><td>-4.0</td><td>6</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Brute Force Verification -->
  <div class="card card-full" style="margin-bottom: 1.5rem;">
    <h2>Brute-Force Verification (Small Instances)</h2>
    <table>
      <thead><tr><th>d</th><th>k</th><th>n</th><th>APX</th><th>OPT (exact)</th><th>OPT (LP)</th><th>Ratio (exact)</th></tr></thead>
      <tbody>
        <tr><td>1</td><td>2</td><td>6</td><td>6.0</td><td>4.0</td><td>-2.0</td><td class="highlight">1.5</td></tr>
        <tr><td>1</td><td>3</td><td>14</td><td>25.0</td><td>-4.0</td><td>-4.0</td><td>---</td></tr>
        <tr><td>2</td><td>2</td><td>6</td><td>8.0</td><td>8.0</td><td>-4.0</td><td class="highlight">1.0</td></tr>
      </tbody>
    </table>
  </div>

  <!-- Proof Strategies -->
  <div class="card card-full" style="margin-bottom: 1.5rem;">
    <h2>Proposed Proof Strategies</h2>
    <div class="proof-card">
      <h3>Direction 1: Per-Coordinate Potential Decomposition</h3>
      <p>Decompose the objective into d independent coordinate contributions. Each coordinate contributes ratio approaching 2: coordinate 1 via Lorieau's 1D analysis, auxiliary coordinates via the 4 vs 2 coefficient asymmetry. Total: 2 + (d-1) x 2 = 2d. Challenge: proving LP relaxation does not couple coordinates to improve fractional solution.</p>
    </div>
    <div class="proof-card">
      <h3>Direction 2: LP Dual Certificate Tracking</h3>
      <p>Track dual feasible solutions (shadow prices) across rounding steps to lower-bound OPT at every step. The geometric progression u_i = 2^k(1 - 2^{-i}) creates self-similar dual structure. Most rigorous but technically demanding due to O(nd) dual constraints.</p>
    </div>
    <div class="proof-card">
      <h3>Direction 3: Self-Similar Recurrence</h3>
      <p>Exploit the recursive structure: instance at parameter k embeds instance at k-1. Derive recurrences APX(k,d) = f(APX(k-1,d), k, d) and OPT(k,d) = g(OPT(k-1,d), k, d). Most constructive approach but fragile under tie-breaking rule changes.</p>
    </div>
  </div>

  <!-- Reference -->
  <div class="card card-full">
    <h2>Reference</h2>
    <p style="font-size: 0.9rem;">
      Nikoleit, Allouah, Kleer, Marchetti-Bowick, Talgam-Cohen.
      <em>The Art of Being Difficult: Combining Human and AI Strengths to Find Adversarial Instances for Heuristics.</em>
      arXiv:2601.16849, January 2026.
      <a class="ref-link" href="https://arxiv.org/abs/2601.16849" target="_blank">[arXiv]</a>
    </p>
  </div>

</div>

<script>
// ====== DATA ======

const data1D = {
  k: [2, 3, 4, 5],
  n: [6, 14, 30, 62],
  apx: [6.0, 25.0, 113.0, 481.0],
  opt: [-2.0, -4.0, -8.0, -16.0],
  apx_per_n: [1.0, 1.79, 3.77, 7.76]
};

const dataTheoretical = {
  d: [1, 1, 1, 1, 2, 2, 3],
  k: [2, 3, 4, 5, 2, 3, 2],
  apx: [6.0, 25.0, 113.0, 481.0, 8.0, 29.0, 19.0],
  opt: [-2.0, -4.0, -8.0, -16.0, -4.0, -6.0, -4.0],
  predicted: [2, 2, 2, 2, 4, 4, 6]
};

const dataLP = {
  lp_values: [-4.0, -4.0, -4.0, -4.0, -4.0, -4.0, -4.0, -4.0, -4.0, -4.0, -4.0, -4.0, -4.0, -4.0],
  apx: 25.0,
  n: 14
};

const dataCoord = {
  d2: {
    labels: ['Coord 1', 'Coord 2'],
    apx: [23.0, 6.0],
    opt: [-4.0, -2.0]
  },
  d3: {
    labels: ['Coord 1', 'Coord 2', 'Coord 3'],
    apx: [6.0, 4.0, 4.0],
    opt: [-2.0, -2.0, 0.0]
  }
};

// ====== CHART 1: 1D Scaling ======

new Chart(document.getElementById('chart1d'), {
  type: 'line',
  data: {
    labels: data1D.n,
    datasets: [
      {
        label: 'APX (iterative rounding)',
        data: data1D.apx,
        borderColor: '#e94560',
        backgroundColor: 'rgba(233,69,96,0.1)',
        borderWidth: 2,
        pointRadius: 5,
        tension: 0.1
      },
      {
        label: 'OPT (LP bound)',
        data: data1D.opt,
        borderColor: '#1f77b4',
        backgroundColor: 'rgba(31,119,180,0.1)',
        borderWidth: 2,
        pointRadius: 5,
        tension: 0.1
      }
    ]
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    plugins: { legend: { position: 'top' } },
    scales: {
      x: { title: { display: true, text: 'Instance size n' } },
      y: { title: { display: true, text: 'Objective value' } }
    }
  }
});

// ====== CHART 2: Multi-Dimensional APX ======

new Chart(document.getElementById('chartMultiDim'), {
  type: 'bar',
  data: {
    labels: dataTheoretical.d.map((d, i) => `d=${d}, k=${dataTheoretical.k[i]}`),
    datasets: [
      {
        label: 'APX',
        data: dataTheoretical.apx,
        backgroundColor: 'rgba(233,69,96,0.7)',
        borderColor: '#e94560',
        borderWidth: 1
      },
      {
        label: 'OPT (LP)',
        data: dataTheoretical.opt,
        backgroundColor: 'rgba(31,119,180,0.7)',
        borderColor: '#1f77b4',
        borderWidth: 1
      }
    ]
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    plugins: { legend: { position: 'top' } },
    scales: {
      x: { title: { display: true, text: 'Configuration (d, k)' } },
      y: { title: { display: true, text: 'Value' } }
    }
  }
});

// ====== CHART 3: LP Tracking ======

const lpSteps = Array.from({length: dataLP.n}, (_, i) => i + 1);

new Chart(document.getElementById('chartLP'), {
  type: 'line',
  data: {
    labels: lpSteps,
    datasets: [
      {
        label: 'LP optimum at each step',
        data: dataLP.lp_values,
        borderColor: '#9467bd',
        backgroundColor: 'rgba(148,103,189,0.1)',
        borderWidth: 2,
        pointRadius: 4,
        tension: 0
      },
      {
        label: `Final APX = ${dataLP.apx}`,
        data: lpSteps.map(() => dataLP.apx),
        borderColor: '#e94560',
        borderDash: [5, 5],
        borderWidth: 2,
        pointRadius: 0,
        fill: false
      }
    ]
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    plugins: { legend: { position: 'top' } },
    scales: {
      x: { title: { display: true, text: 'Rounding step i' } },
      y: { title: { display: true, text: 'LP relaxation value' } }
    }
  }
});

// ====== CHART 4: Per-Coordinate (interactive tabs) ======

let coordChart = null;

function showCoordChart(key) {
  document.querySelectorAll('#coordTabs .tab-btn').forEach(b => b.classList.remove('active'));
  event.target.classList.add('active');

  const d = dataCoord[key];
  if (coordChart) coordChart.destroy();

  coordChart = new Chart(document.getElementById('chartCoord'), {
    type: 'bar',
    data: {
      labels: d.labels,
      datasets: [
        {
          label: 'APX contribution',
          data: d.apx,
          backgroundColor: 'rgba(233,69,96,0.7)',
          borderColor: '#e94560',
          borderWidth: 1
        },
        {
          label: 'OPT (LP bound)',
          data: d.opt,
          backgroundColor: 'rgba(31,119,180,0.7)',
          borderColor: '#1f77b4',
          borderWidth: 1
        }
      ]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: { legend: { position: 'top' } },
      scales: {
        x: { title: { display: true, text: 'Coordinate' } },
        y: { title: { display: true, text: 'Contribution' } }
      }
    }
  });
}

// Initialize with d=2
showCoordChart('d2');
</script>
</body>
</html>
