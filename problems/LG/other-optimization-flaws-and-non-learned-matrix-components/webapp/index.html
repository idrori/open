<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Optimization Flaws in Matrix Components</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7"></script>
<style>
:root{--primary:#1a3a5c;--accent:#2980b9}*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:#0a1628;color:#e0e0e0}.header{background:linear-gradient(135deg,var(--primary),var(--accent));padding:30px;text-align:center}.header h1{font-size:1.7em;color:#fff;margin-bottom:8px}.header p{color:#b0d4f1;font-size:.95em}.header .pdf-link{display:inline-block;margin-top:12px;padding:8px 20px;background:rgba(255,255,255,0.15);border:1px solid rgba(255,255,255,0.3);border-radius:6px;color:#fff;text-decoration:none;font-size:.9em;transition:background .2s}.header .pdf-link:hover{background:rgba(255,255,255,0.25)}.container{max-width:1200px;margin:0 auto;padding:20px}.stats-row{display:flex;justify-content:space-around;flex-wrap:wrap;gap:15px;margin:20px 0}.stat-box{background:#152238;border-radius:10px;padding:18px 28px;text-align:center;border:1px solid #1e3a5f;min-width:170px;flex:1}.stat-box .value{font-size:1.7em;font-weight:bold;color:var(--accent)}.stat-box .label{font-size:.82em;color:#7a9ec5;margin-top:5px}.grid{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-top:20px}.card{background:#152238;border-radius:12px;padding:20px;border:1px solid #1e3a5f}.card h3{color:var(--accent);margin-bottom:15px;font-size:1.05em}.full-width{grid-column:1/-1}canvas{max-height:340px}table{width:100%;border-collapse:collapse;margin-top:10px}th,td{padding:10px 14px;text-align:center;border-bottom:1px solid #1e3a5f}th{color:var(--accent);font-weight:600}td{color:#b0c4de}.good{color:#27ae60}.bad{color:#e74c3c}.med{color:#f39c12}@media(max-width:768px){.grid{grid-template-columns:1fr}}
</style>
</head>
<body>
<div class="header">
<h1>Condition Number as a Non-Learned Matrix Property</h1>
<p>Identifying and Correcting Spectral Optimization Flaws</p>
<a class="pdf-link" href="../revision/paper/main.pdf">View Paper (PDF)</a>
</div>
<div class="container">
<div class="stats-row">
<div class="stat-box"><div class="value">8</div><div class="label">Components Tracked</div></div>
<div class="stat-box"><div class="value">5</div><div class="label">Dimensions (32-512)</div></div>
<div class="stat-box"><div class="value">34.9x</div><div class="label">Cond. # Error @ d=512</div></div>
<div class="stat-box"><div class="value">67%</div><div class="label">Multiplier Improvement</div></div>
<div class="stat-box"><div class="value">4</div><div class="label">Strategies Tested</div></div>
</div>
<div class="grid">
<div class="card full-width">
<h3>Component Learning Errors vs. Dimension</h3>
<canvas id="compChart"></canvas>
</div>
<div class="card">
<h3>SGD vs Adam: Component Errors (d=128)</h3>
<canvas id="optChart"></canvas>
</div>
<div class="card">
<h3>Corrective Strategies (d=64)</h3>
<canvas id="corrChart"></canvas>
</div>
<div class="card full-width">
<h3>Key Findings (Revised)</h3>
<table>
<thead><tr><th>Component</th><th>Error @ d=128</th><th>Scaling</th><th>Multiplier Helps?</th><th>Category</th></tr></thead>
<tbody>
<tr><td>Row Norms</td><td>0.134</td><td class="good">Stable</td><td class="good">Yes (67%)</td><td>Scale (known)</td></tr>
<tr><td>Column Norms</td><td>0.134</td><td class="good">Stable</td><td class="good">Yes (71%)</td><td>Scale (known)</td></tr>
<tr><td>Singular Values</td><td>0.134</td><td class="good">Stable</td><td class="good">Yes (69%)</td><td>Scale (known)</td></tr>
<tr><td>Condition Number</td><td class="bad">2.77</td><td class="bad">Grows 130x (d=32 to 512)</td><td class="bad">No (10%)</td><td class="bad">Spectral (NEW)</td></tr>
<tr><td>Spectral Gap</td><td>0.029</td><td class="good">Stable</td><td class="med">Partially</td><td>Well-learned</td></tr>
<tr><td>Effective Rank</td><td>0.001</td><td class="good">Stable</td><td class="good">N/A</td><td>Well-learned</td></tr>
<tr><td>Frobenius Norm</td><td>0.134</td><td class="good">Stable</td><td class="good">Yes (73%)</td><td>Scale (known)</td></tr>
</tbody>
</table>
</div>
</div>
</div>
<script>
const co={responsive:true,plugins:{legend:{labels:{color:'#b0c4de'}}},scales:{x:{ticks:{color:'#7a9ec5'},grid:{color:'#1e3a5f'}},y:{ticks:{color:'#7a9ec5'},grid:{color:'#1e3a5f'}}}};

// Data from revision experiments
const dims=[32,64,128,256,512];
const errData={
  row_norms:[0.134,0.133,0.134,0.133,0.132],
  col_norms:[0.134,0.134,0.134,0.133,0.132],
  singular_values:[0.134,0.133,0.134,0.133,0.132],
  condition_number:[0.273,0.305,2.775,0.812,34.936],
  spectral_gap:[0.031,0.033,0.029,0.125,0.057],
  overall_matrix:[0.135,0.136,0.137,0.140,0.146]
};
const colors2={'row_norms':'#2980b9','col_norms':'#3498db','singular_values':'#27ae60','condition_number':'#e74c3c','spectral_gap':'#f39c12','overall_matrix':'#95a5a6'};
const labels={'row_norms':'Row norms','col_norms':'Col norms','singular_values':'Sing. values','condition_number':'Cond. number','spectral_gap':'Spectral gap','overall_matrix':'Overall'};

new Chart(document.getElementById('compChart'),{type:'line',data:{labels:dims.map(String),datasets:Object.keys(errData).map(c=>({label:labels[c],data:errData[c],borderColor:colors2[c],borderWidth:2,pointRadius:4,tension:0.1}))},options:{...co,scales:{x:{...co.scales.x,title:{display:true,text:'Hidden Dimension',color:'#7a9ec5'}},y:{...co.scales.y,type:'logarithmic',title:{display:true,text:'Relative Error (log)',color:'#7a9ec5'}}}}});

// Optimizer comparison
const optComps=['row_norms','col_norms','singular_values','condition_number','spectral_gap','overall_matrix'];
const sgdData=[0.134,0.134,0.134,0.871,0.033,0.137];
const adamData=[0.587,0.530,0.548,0.902,0.784,0.601];
new Chart(document.getElementById('optChart'),{type:'bar',data:{labels:optComps.map(c=>labels[c]),datasets:[{label:'SGD',data:sgdData,backgroundColor:'#2980b9cc'},{label:'Adam',data:adamData,backgroundColor:'#e74c3ccc'}]},options:{...co,scales:{...co.scales,y:{...co.scales.y,type:'logarithmic'}}}});

// Corrective strategies
const stratComps=['row_norms','col_norms','singular_values','condition_number','overall_matrix'];
const stdData=[0.134,0.134,0.134,1.232,0.136];
const multData=[0.044,0.038,0.041,1.108,0.047];
const svdData=[0.093,0.092,0.093,10.737,0.096];
new Chart(document.getElementById('corrChart'),{type:'bar',data:{labels:stratComps.map(c=>labels[c]),datasets:[{label:'Standard SGD',data:stdData,backgroundColor:'#e74c3ccc'},{label:'Learnable Mult.',data:multData,backgroundColor:'#2980b9cc'},{label:'SVD Correction',data:svdData,backgroundColor:'#27ae60cc'}]},options:{...co,scales:{...co.scales,y:{...co.scales.y,type:'logarithmic'}}}});
</script>
</body>
</html>
