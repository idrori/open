<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Higher-Point Spectral Flow Recursions</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7"></script>
<style>
:root { --primary: #1a3a5c; --accent: #2980b9; }
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #0a0e1a; color: #e0e0e0; }
.header { background: linear-gradient(135deg, var(--primary), var(--accent)); padding: 30px; text-align: center; }
.header h1 { font-size: 1.6em; color: #fff; margin-bottom: 8px; }
.header p { color: #b0d4f1; font-size: 0.95em; }
.container { max-width: 1200px; margin: 0 auto; padding: 20px; }
.grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px; }
.card { background: #1a1f2e; border-radius: 12px; padding: 20px; border: 1px solid #2a3040; }
.card h3 { color: var(--accent); margin-bottom: 15px; font-size: 1.1em; }
.full-width { grid-column: 1 / -1; }
.stats-row { display: flex; justify-content: space-around; flex-wrap: wrap; gap: 15px; margin: 20px 0; }
.stat-box { background: #1a1f2e; border-radius: 10px; padding: 20px 25px; text-align: center; border: 1px solid #2a3040; min-width: 140px; }
.stat-box .value { font-size: 1.7em; font-weight: bold; color: var(--accent); }
.stat-box .label { font-size: 0.82em; color: #90a4ae; margin-top: 5px; }
canvas { max-height: 350px; }
table { width: 100%; border-collapse: collapse; margin-top: 10px; }
th, td { padding: 10px 12px; text-align: center; border-bottom: 1px solid #2a3040; }
th { color: var(--accent); font-weight: 600; }
td { color: #cfd8dc; }
.controls { margin-bottom: 15px; }
.controls label { margin-right: 10px; color: #90a4ae; }
.controls select { padding: 5px 10px; background: #2a3040; color: #e0e0e0; border: 1px solid #3a4050; border-radius: 5px; }
.math { font-family: 'Times New Roman', serif; font-style: italic; }
@media (max-width: 768px) { .grid { grid-template-columns: 1fr; } }
</style>
</head>
<body>
<div class="header">
<h1>Recursion Relations for Higher-Point Spectrally Flowed Correlators</h1>
<p>SL(2,R) WZW Model on AdS<sub>3</sub> | Kovensky, arXiv:2601.06697 | Level k = 3</p>
</div>
<div class="container">
<div class="stats-row">
<div class="stat-box"><div class="value">k = 3</div><div class="label">WZW Level</div></div>
<div class="stat-box"><div class="value">C(n-1,2)</div><div class="label">Coefficient Scaling</div></div>
<div class="stat-box"><div class="value">n</div><div class="label">Equation Order</div></div>
<div class="stat-box"><div class="value">n(n+3)/2</div><div class="label">Singular Points</div></div>
<div class="stat-box"><div class="value">Linear</div><div class="label">w-Growth Rate</div></div>
</div>
<div class="grid">
<div class="card full-width">
<h3>Recursion Coefficient Scaling with <span class="math">n</span> and <span class="math">j</span></h3>
<canvas id="coeffChart"></canvas>
</div>
<div class="card">
<h3>Effective Weight Spectrum <span class="math">h<sub>eff</sub>(j, w)</span></h3>
<div class="controls">
<label>Spin <span class="math">j</span>:</label>
<select id="jSelect" onchange="updateSpectrum()">
<option value="0">j = 0.5</option>
<option value="1">j = 0.6</option>
<option value="2" selected>j = 0.7</option>
<option value="3">j = 0.8</option>
<option value="4">j = 0.9</option>
<option value="5">j = 1.0</option>
</select>
</div>
<canvas id="spectrumChart"></canvas>
</div>
<div class="card">
<h3>Convergence: |R(j, m, w)| vs w</h3>
<canvas id="convChart"></canvas>
</div>
<div class="card full-width">
<h3>Y-Basis Differential Equation Complexity</h3>
<table>
<thead><tr><th><span class="math">n</span></th><th>Equation Order</th><th>Singular Points</th><th>Mean Coeff. Magnitude</th><th>Scaling Factor</th></tr></thead>
<tbody>
<tr><td>3</td><td>3</td><td>9</td><td>13.3</td><td>1.0x</td></tr>
<tr><td>4</td><td>4</td><td>14</td><td>40.0</td><td>3.0x</td></tr>
<tr><td>5</td><td>5</td><td>20</td><td>79.9</td><td>6.0x</td></tr>
</tbody>
</table>
</div>
<div class="card">
<h3>Equation Order vs <span class="math">n</span></h3>
<canvas id="orderChart"></canvas>
</div>
<div class="card">
<h3>Singular Points vs <span class="math">n</span></h3>
<canvas id="singChart"></canvas>
</div>
</div>
</div>
<script>
Chart.defaults.color = '#b0bec5';
Chart.defaults.borderColor = '#2a3040';

const jVals = [0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 1.1, 1.2];
const colors3 = ['#2980b9', '#e67e22', '#1a3a5c'];

// Coefficient scaling data
const coeffData = {
  3: [0.33, 1.34, 3.90, 8.69, 16.42, 27.84, 43.72, 64.86],
  4: [0.99, 4.02, 11.71, 26.07, 49.25, 83.52, 131.15, 194.58],
  5: [1.98, 8.04, 23.42, 52.14, 98.50, 167.04, 262.30, 389.16]
};

new Chart(document.getElementById('coeffChart'), {
  type: 'line',
  data: { labels: jVals.map(j => 'j='+j), datasets: [3,4,5].map((n,i) => ({
    label: 'n='+n, data: coeffData[n], borderColor: colors3[i], backgroundColor: colors3[i]+'33', tension: 0.3, pointRadius: 5, borderWidth: 2
  })) },
  options: { responsive: true, scales: { y: { type: 'logarithmic', title: { display: true, text: '|R| (log scale)' } }, x: { title: { display: true, text: 'Spin j' } } } }
});

// Weight spectrum
const weightData = [
  [0.5, [-0.25, 0.25, 1.75, 4.25, 7.75]],
  [0.6, [-0.36, 0.14, 1.64, 4.14, 7.64]],
  [0.7, [-0.49, 0.01, 1.51, 4.01, 7.51]],
  [0.8, [-0.64, -0.14, 1.36, 3.86, 7.36]],
  [0.9, [-0.81, -0.31, 1.19, 3.69, 7.19]],
  [1.0, [-1.00, -0.50, 1.00, 3.50, 7.00]]
];

let spectrumChart;
function updateSpectrum() {
  const idx = parseInt(document.getElementById('jSelect').value);
  if (spectrumChart) spectrumChart.destroy();
  const [j, weights] = weightData[idx];
  spectrumChart = new Chart(document.getElementById('spectrumChart'), {
    type: 'line',
    data: { labels: [0,1,2,3,4], datasets: [{ label: 'h_eff (j='+j+')', data: weights, borderColor: '#2980b9', backgroundColor: '#2980b933', tension: 0.3, pointRadius: 6, borderWidth: 2 }] },
    options: { responsive: true, scales: { y: { title: { display: true, text: 'h_eff' } }, x: { title: { display: true, text: 'Spectral Flow w' } } } }
  });
}
updateSpectrum();

// Convergence
const convJ = [0.5, 0.7, 0.9, 1.1];
const convColors = ['#3498db', '#e67e22', '#2ecc71', '#9b59b6'];
const convData = [[0.33, 0.94, 1.72, 2.65],[3.90, 6.12, 8.85, 12.08],[16.42, 20.84, 26.15, 32.34],[43.72, 51.53, 60.64, 71.05]];
new Chart(document.getElementById('convChart'), {
  type: 'line',
  data: { labels: [1,2,3,4], datasets: convJ.map((j,i) => ({
    label: 'j='+j, data: convData[i], borderColor: convColors[i], tension: 0.3, pointRadius: 5, borderWidth: 2
  })) },
  options: { responsive: true, scales: { y: { title: { display: true, text: '|R(j,m,w)|' } }, x: { title: { display: true, text: 'Spectral Flow w' } } } }
});

// Order and singular points
new Chart(document.getElementById('orderChart'), {
  type: 'bar',
  data: { labels: ['n=3','n=4','n=5'], datasets: [{ data: [3,4,5], backgroundColor: ['#2980b9','#e67e22','#1a3a5c'], borderRadius: 6 }] },
  options: { responsive: true, plugins: { legend: { display: false } }, scales: { y: { title: { display: true, text: 'Order' } } } }
});

new Chart(document.getElementById('singChart'), {
  type: 'bar',
  data: { labels: ['n=3','n=4','n=5'], datasets: [{ data: [9,14,20], backgroundColor: ['#2980b9','#e67e22','#1a3a5c'], borderRadius: 6 }] },
  options: { responsive: true, plugins: { legend: { display: false } }, scales: { y: { title: { display: true, text: 'Singular Points' } } } }
});
</script>
</body>
</html>
