<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Medical Foundation Model Adaptation - Research Dashboard</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Libre+Franklin:wght@400;600;700;800&family=Lora:ital,wght@0,400;0,500;0,600;1,400&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7/dist/chart.umd.min.js"></script>
<style>
:root{--bg:#F0F4F8;--surface:#FFFFFF;--blue:#0066CC;--green:#00A878;--red:#DC3545;--warm:#F4845F;--text:#1a2332;--text-secondary:#4a5568;--border:#e2e8f0;--shadow:0 2px 8px rgba(0,0,0,0.08);--shadow-lg:0 8px 24px rgba(0,0,0,0.12);--radius:12px}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Lora',Georgia,serif;background:var(--bg);color:var(--text);line-height:1.6}
h1,h2,h3,h4,h5,h6,.metric-value,.nav-link,.badge,.tab-btn,.method-title{font-family:'Libre Franklin',system-ui,sans-serif}
.nav{position:sticky;top:0;z-index:100;background:rgba(255,255,255,0.95);backdrop-filter:blur(10px);border-bottom:1px solid var(--border);padding:0 2rem;display:flex;align-items:center;gap:2rem;height:56px;overflow-x:auto}
.nav-brand{font-family:'Libre Franklin',sans-serif;font-weight:800;font-size:0.85rem;color:var(--blue);white-space:nowrap;letter-spacing:-0.02em}
.nav-link{font-size:0.78rem;font-weight:600;color:var(--text-secondary);text-decoration:none;white-space:nowrap;padding:0.3rem 0;border-bottom:2px solid transparent;transition:all 0.2s}
.nav-link:hover{color:var(--blue);border-bottom-color:var(--blue)}
.header{background:linear-gradient(135deg,#0066CC 0%,#004999 60%,#003366 100%);color:white;padding:3.5rem 2rem 3rem;text-align:center;position:relative;overflow:hidden}
.header::before{content:'';position:absolute;inset:0;background:url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.04'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E") repeat}
.header-content{position:relative;max-width:800px;margin:0 auto}
.badge{display:inline-block;background:rgba(255,255,255,0.2);border:1px solid rgba(255,255,255,0.3);border-radius:20px;padding:0.3rem 1rem;font-size:0.75rem;font-weight:700;letter-spacing:0.05em;text-transform:uppercase;margin-bottom:1rem}
.header h1{font-size:2rem;font-weight:800;line-height:1.2;margin-bottom:0.75rem;letter-spacing:-0.02em}
.header p{font-size:1.05rem;opacity:0.9;max-width:600px;margin:0 auto}
.metrics-strip{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:1rem;padding:1.5rem 2rem;max-width:1200px;margin:-1.5rem auto 0;position:relative;z-index:10}
.metric-card{background:var(--surface);border-radius:var(--radius);padding:1.2rem 1rem;text-align:center;box-shadow:var(--shadow-lg);border-top:3px solid var(--blue)}
.metric-value{font-size:1.8rem;font-weight:800;color:var(--blue);line-height:1;margin-bottom:0.3rem}
.metric-label{font-size:0.75rem;color:var(--text-secondary);line-height:1.3}
.section{max-width:1200px;margin:2.5rem auto;padding:0 2rem}
.section-title{font-size:1.35rem;font-weight:700;color:var(--text);margin-bottom:1.25rem;padding-bottom:0.5rem;border-bottom:2px solid var(--blue);display:inline-block;letter-spacing:-0.01em}
.findings-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(210px,1fr));gap:1rem}
.finding-card{background:var(--surface);border-radius:var(--radius);padding:1.25rem;box-shadow:var(--shadow);border-left:4px solid var(--blue);transition:transform 0.2s,box-shadow 0.2s}
.finding-card:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}
.finding-card.green{border-left-color:var(--green)}.finding-card.red{border-left-color:var(--red)}.finding-card.warm{border-left-color:var(--warm)}
.finding-number{font-family:'Libre Franklin',sans-serif;font-size:1.6rem;font-weight:800;line-height:1;margin-bottom:0.4rem}
.finding-number.blue{color:var(--blue)}.finding-number.green{color:var(--green)}.finding-number.red{color:var(--red)}.finding-number.warm{color:var(--warm)}
.finding-text{font-size:0.85rem;color:var(--text-secondary);line-height:1.4}
.chart-container{background:var(--surface);border-radius:var(--radius);padding:1.5rem;box-shadow:var(--shadow);margin-bottom:1.5rem}
.chart-wrap{position:relative;width:100%;max-height:420px}
.two-col{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem}
@media(max-width:768px){.two-col{grid-template-columns:1fr}.header h1{font-size:1.5rem}.metrics-strip{grid-template-columns:repeat(2,1fr)}}
.heatmap-table{width:100%;border-collapse:separate;border-spacing:0;font-size:0.85rem}
.heatmap-table th{font-family:'Libre Franklin',sans-serif;font-weight:600;padding:0.7rem 0.8rem;text-align:center;background:var(--bg);color:var(--text-secondary);font-size:0.78rem;text-transform:uppercase;letter-spacing:0.03em}
.heatmap-table th:first-child{text-align:left;border-radius:8px 0 0 0}.heatmap-table th:last-child{border-radius:0 8px 0 0}
.heatmap-table td{padding:0.65rem 0.8rem;text-align:center;border-bottom:1px solid var(--border);font-variant-numeric:tabular-nums}
.heatmap-table td:first-child{text-align:left;font-family:'Libre Franklin',sans-serif;font-weight:600;font-size:0.8rem}
.heatmap-cell{border-radius:6px;padding:0.35rem 0.6rem;display:inline-block;min-width:52px;font-weight:500}
.sig-table{width:100%;border-collapse:separate;border-spacing:0;font-size:0.82rem}
.sig-table th{font-family:'Libre Franklin',sans-serif;font-weight:600;padding:0.65rem 0.6rem;text-align:center;background:var(--bg);color:var(--text-secondary);font-size:0.75rem;text-transform:uppercase;letter-spacing:0.03em}
.sig-table th:first-child{text-align:left}
.sig-table td{padding:0.6rem;text-align:center;border-bottom:1px solid var(--border);font-variant-numeric:tabular-nums}
.sig-table td:first-child{text-align:left;font-weight:500}
.sig-badge{display:inline-block;padding:0.15rem 0.5rem;border-radius:10px;font-size:0.72rem;font-weight:600;font-family:'Libre Franklin',sans-serif}
.sig-badge.yes{background:#dcfce7;color:#166534}
.tab-bar{display:flex;gap:0.5rem;margin-bottom:1.5rem;flex-wrap:wrap}
.tab-btn{padding:0.5rem 1.2rem;border:2px solid var(--border);border-radius:8px;background:var(--surface);color:var(--text-secondary);font-size:0.82rem;font-weight:600;cursor:pointer;transition:all 0.2s}
.tab-btn:hover{border-color:var(--blue);color:var(--blue)}
.tab-btn.active{background:var(--blue);border-color:var(--blue);color:white}
.mod-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;margin-bottom:1.5rem}
@media(max-width:600px){.mod-stats{grid-template-columns:repeat(2,1fr)}}
.mod-stat-card{background:var(--bg);border-radius:10px;padding:1rem;text-align:center}
.mod-stat-value{font-family:'Libre Franklin',sans-serif;font-size:1.3rem;font-weight:700;color:var(--blue)}
.mod-stat-label{font-size:0.72rem;color:var(--text-secondary);margin-top:0.2rem}
.rank-list{display:flex;flex-direction:column;gap:0.6rem;margin-top:1rem}
.rank-item{display:flex;align-items:center;gap:0.8rem}
.rank-pos{font-family:'Libre Franklin',sans-serif;font-weight:700;font-size:0.85rem;color:var(--text-secondary);min-width:20px}
.rank-name{font-family:'Libre Franklin',sans-serif;font-weight:600;font-size:0.82rem;min-width:130px}
.rank-bar-bg{flex:1;height:24px;background:var(--bg);border-radius:12px;overflow:hidden;position:relative}
.rank-bar-fill{height:100%;border-radius:12px;transition:width 0.6s ease}
.rank-bar-val{position:absolute;right:8px;top:50%;transform:translateY(-50%);font-family:'Libre Franklin',sans-serif;font-size:0.72rem;font-weight:700}
.method-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:1rem}
.method-card{background:var(--surface);border-radius:var(--radius);padding:1.5rem;box-shadow:var(--shadow);text-align:center;transition:transform 0.2s}
.method-card:hover{transform:translateY(-2px)}
.method-icon{font-size:2rem;margin-bottom:0.75rem}
.method-title{font-size:0.95rem;font-weight:700;margin-bottom:0.5rem;color:var(--text)}
.method-desc{font-size:0.82rem;color:var(--text-secondary);line-height:1.5}
.footer{background:#1a2332;color:rgba(255,255,255,0.7);text-align:center;padding:2rem;margin-top:3rem;font-size:0.82rem;line-height:1.6}
.footer strong{color:white}
.friedman-box{background:linear-gradient(135deg,#f0fdf4,#dcfce7);border:1px solid #bbf7d0;border-radius:var(--radius);padding:1.25rem;margin-top:1rem;text-align:center}
.friedman-label{font-family:'Libre Franklin',sans-serif;font-weight:700;font-size:0.9rem;color:#166534;margin-bottom:0.3rem}
.friedman-detail{font-size:0.8rem;color:#15803d}
.fade-in{opacity:0;transform:translateY(12px);animation:fadeIn 0.5s ease forwards}
@keyframes fadeIn{to{opacity:1;transform:translateY(0)}}
</style>
</head>
<body>
<nav class="nav" id="navbar"></nav>
<header class="header" id="top">
<div class="header-content">

<h1 id="header-title"></h1>

</div>
</header>
<div class="metrics-strip" id="metrics-strip"></div>
<div class="section fade-in" id="sec-findings"><div class="section-title" id="findings-title"></div><div class="findings-grid" id="findings-grid"></div></div>
<div class="section fade-in" id="sec-accuracy"><div class="section-title" id="accuracy-title"></div><div class="chart-container"><div class="chart-wrap"><canvas id="accuracyChart"></canvas></div></div></div>
<div class="section fade-in" id="sec-alignment"><div class="section-title" id="alignment-title"></div><div class="chart-container" id="heatmap-container"></div></div>
<div class="section fade-in" id="sec-calibration"><div class="section-title" id="calibration-title"></div><div class="two-col"><div class="chart-container"><div class="chart-wrap"><canvas id="eceChart"></canvas></div></div><div class="chart-container"><div class="chart-wrap"><canvas id="paretoChart"></canvas></div></div></div></div>
<div class="section fade-in" id="sec-significance"><div class="section-title" id="sig-title"></div><div class="chart-container" id="sig-container"></div></div>
<div class="section fade-in" id="sec-modality"><div class="section-title" id="mod-title"></div><div class="tab-bar" id="tab-bar"></div><div class="mod-stats" id="mod-stats"></div><div class="two-col"><div class="chart-container"><div class="chart-wrap"><canvas id="modChart"></canvas></div></div><div class="chart-container"><div class="rank-list" id="rank-list"></div></div></div></div>
<div class="section fade-in" id="sec-methodology"><div class="section-title" id="method-title"></div><div class="method-grid" id="method-grid"></div></div>
<footer class="footer" id="footer"></footer>
<script>
var DATA={agg:{zero_shot:{dermatology:{am:0.2435,as:0.0193,rm:0.5,rs:0.0,alm:0.4269,als:0.0269,em:0.1849,es:0.0096},radiology:{am:0.2452,as:0.0166,rm:0.5,rs:0.0,alm:0.3918,als:0.0294,em:0.1907,es:0.01},ophthalmology:{am:0.264,as:0.014,rm:0.5,rs:0.0,alm:0.4299,als:0.0318,em:0.1786,es:0.0084},pathology:{am:0.2302,as:0.0204,rm:0.5,rs:0.0,alm:0.3771,als:0.0266,em:0.1908,es:0.0077},cardiology:{am:0.2585,as:0.0178,rm:0.5,rs:0.0,alm:0.3619,als:0.0289,em:0.1816,es:0.0092}},linear_probe:{dermatology:{am:0.4064,as:0.0183,rm:0.5091,rs:0.0129,alm:0.6375,als:0.0321,em:0.1488,es:0.011},radiology:{am:0.3962,as:0.0193,rm:0.5053,rs:0.0096,alm:0.5772,als:0.0306,em:0.1514,es:0.0078},ophthalmology:{am:0.4173,as:0.0174,rm:0.5196,rs:0.0162,alm:0.6291,als:0.0285,em:0.1398,es:0.0104},pathology:{am:0.3797,as:0.0186,rm:0.5004,rs:0.0015,alm:0.5369,als:0.027,em:0.1542,es:0.0097},cardiology:{am:0.4105,as:0.0189,rm:0.5142,rs:0.0178,alm:0.5366,als:0.0243,em:0.1442,es:0.0081}},domain_adaptive_ft:{dermatology:{am:0.566,as:0.0187,rm:0.6624,rs:0.0292,alm:0.8307,als:0.0269,em:0.1294,es:0.0123},radiology:{am:0.5592,as:0.0205,rm:0.6544,rs:0.0258,alm:0.751,als:0.0274,em:0.1321,es:0.0099},ophthalmology:{am:0.5813,as:0.016,rm:0.6803,rs:0.0248,alm:0.8029,als:0.0381,em:0.1225,es:0.0092},pathology:{am:0.5577,as:0.0226,rm:0.6459,rs:0.0282,alm:0.7135,als:0.0277,em:0.1391,es:0.0086},cardiology:{am:0.5745,as:0.0222,rm:0.6678,rs:0.0291,alm:0.6969,als:0.0246,em:0.1262,es:0.0092}},skinflow_rl:{dermatology:{am:0.6662,as:0.0204,rm:0.7615,rs:0.0264,alm:0.9141,als:0.0252,em:0.1081,es:0.01},radiology:{am:0.6685,as:0.0218,rm:0.7602,rs:0.0203,alm:0.8307,als:0.0293,em:0.1117,es:0.0103},ophthalmology:{am:0.6867,as:0.0246,rm:0.7845,rs:0.0315,alm:0.8878,als:0.0297,em:0.0986,es:0.0098},pathology:{am:0.6654,as:0.0239,rm:0.7544,rs:0.0271,alm:0.7818,als:0.0238,em:0.115,es:0.0121},cardiology:{am:0.6735,as:0.0218,rm:0.7672,rs:0.0249,alm:0.7615,als:0.026,em:0.1022,es:0.0085}}},alignment:{matrix:{zero_shot:{dermatology:0.4635,radiology:0.3502,ophthalmology:0.4703,pathology:0.3929,cardiology:0.36},linear_probe:{dermatology:0.5997,radiology:0.5733,ophthalmology:0.658,pathology:0.5341,cardiology:0.5336},domain_adaptive_ft:{dermatology:0.8513,radiology:0.7839,ophthalmology:0.8644,pathology:0.7024,cardiology:0.6932},skinflow_rl:{dermatology:0.9153,radiology:0.8194,ophthalmology:0.8918,pathology:0.7795,cardiology:0.754}},improvement:{zero_shot:0.0,linear_probe:0.1724,domain_adaptive_ft:0.3717,skinflow_rl:0.4246},hardest:{zero_shot:"radiology",linear_probe:"cardiology",domain_adaptive_ft:"cardiology",skinflow_rl:"cardiology"}},calibration:{gaps:{zero_shot:{dermatology:0.1964,radiology:0.1897,ophthalmology:0.1867,pathology:0.2011,cardiology:0.2005},linear_probe:{dermatology:0.127,radiology:0.143,ophthalmology:0.1191,pathology:0.164,cardiology:0.1522},domain_adaptive_ft:{dermatology:0.1374,radiology:0.1377,ophthalmology:0.1239,pathology:0.15,cardiology:0.1192},skinflow_rl:{dermatology:0.1111,radiology:0.1101,ophthalmology:0.0878,pathology:0.1062,cardiology:0.1076}},ece:{zero_shot:0.1949,linear_probe:0.1411,domain_adaptive_ft:0.1336,skinflow_rl:0.1046}},cross:{rankings:{dermatology:[["skinflow_rl",0.6415],["domain_adaptive_ft",0.5752],["linear_probe",0.4328],["zero_shot",0.2537]],radiology:[["skinflow_rl",0.6314],["domain_adaptive_ft",0.5749],["linear_probe",0.3863],["zero_shot",0.2438]],ophthalmology:[["skinflow_rl",0.7099],["domain_adaptive_ft",0.571],["linear_probe",0.4308],["zero_shot",0.2737]],pathology:[["skinflow_rl",0.6415],["domain_adaptive_ft",0.561],["linear_probe",0.3666],["zero_shot",0.231]],cardiology:[["skinflow_rl",0.6628],["domain_adaptive_ft",0.5527],["linear_probe",0.4026],["zero_shot",0.2523]]},improvement:{linear_probe:{dermatology:0.706,radiology:0.5845,ophthalmology:0.574,pathology:0.587,cardiology:0.5957},domain_adaptive_ft:{dermatology:1.2672,radiology:1.3581,ophthalmology:1.0862,pathology:1.4286,cardiology:1.1906},skinflow_rl:{dermatology:1.5286,radiology:1.5898,ophthalmology:1.5937,pathology:1.7771,cardiology:1.627}},pareto:[{strategy:"zero_shot",acc:0.2509,compute:1.0},{strategy:"linear_probe",acc:0.4038,compute:1.05},{strategy:"skinflow_rl",acc:0.6574,compute:2.1}],efficiency:{zero_shot:0.2509,linear_probe:0.3846,domain_adaptive_ft:0.1772,skinflow_rl:0.3131}},sig:{paired:{"Zero-Shot vs Linear Probe":{t:-261.43,p:0.0,d:16.55,diff:0.1526},"Linear Probe vs Domain-Adaptive FT":{t:-304.03,p:0.0,d:19.25,diff:0.1636},"Domain-Adaptive FT vs SkinFlow RL":{t:-156.88,p:0.0,d:9.93,diff:0.0895},"Zero-Shot vs SkinFlow RL":{t:-661.33,p:0.0,d:41.87,diff:0.4058}},friedman:{stat:15.0,p:0.0018},overall:{best:"skinflow_rl",worst:"zero_shot",d:18.28,mean_best:0.6574,mean_worst:0.2509}}};
var STRATEGIES=["zero_shot","linear_probe","domain_adaptive_ft","skinflow_rl"];
var SL={"zero_shot":"Zero-Shot","linear_probe":"Linear Probe","domain_adaptive_ft":"Domain-Adaptive FT","skinflow_rl":"SkinFlow RL"};
var SC={"zero_shot":"#94a3b8","linear_probe":"#F4845F","domain_adaptive_ft":"#0066CC","skinflow_rl":"#00A878"};
var MODS=["dermatology","radiology","ophthalmology","pathology","cardiology"];
var ML={"dermatology":"Dermatology","radiology":"Radiology","ophthalmology":"Ophthalmology","pathology":"Pathology","cardiology":"Cardiology"};
function mk(t,c,x){var e=document.createElement(t);if(c)e.className=c;if(x!==undefined)e.textContent=x;return e;}
function pct(v){return(v*100).toFixed(1)+"%";}
function fmt(v,d){return v.toFixed(d!==undefined?d:4);}
(function(){var n=document.getElementById("navbar");n.appendChild(mk("span","nav-brand","MedFM Dashboard"));[["#sec-findings","Findings"],["#sec-accuracy","Accuracy"],["#sec-alignment","Alignment"],["#sec-calibration","Calibration"],["#sec-significance","Significance"],["#sec-modality","Explorer"],["#sec-methodology","Methods"]].forEach(function(l){var a=mk("a","nav-link",l[1]);a.href=l[0];n.appendChild(a);});})();

document.getElementById("header-title").textContent="Integrating General-Purpose Multimodal Foundation Models into Medical Applications";
document.getElementById("header-desc").textContent="A systematic evaluation of four adaptation strategies across five clinical imaging modalities, measuring accuracy, calibration, and domain alignment.";
(function(){var s=document.getElementById("metrics-strip");[["4","Adaptation Strategies"],["5","Clinical Modalities"],["65.7%","Best Mean Accuracy (SkinFlow RL)"],["0.1046","Best ECE (SkinFlow RL)"],["41.87","Max Cohen's d (ZS vs RL)"],["p < 0.002","Friedman Test"]].forEach(function(i){var c=mk("div","metric-card");c.appendChild(mk("div","metric-value",i[0]));c.appendChild(mk("div","metric-label",i[1]));s.appendChild(c);});})();
(function(){document.getElementById("findings-title").textContent="Key Findings";var g=document.getElementById("findings-grid");[{n:"162%",c:"blue",cc:"",t:"Average improvement of SkinFlow RL over Zero-Shot across all modalities"},{n:"0.9153",c:"green",cc:"green",t:"Peak alignment score: SkinFlow RL on Dermatology (91.5%)"},{n:"46.3%",c:"warm",cc:"warm",t:"ECE reduction from Zero-Shot (0.1949) to SkinFlow RL (0.1046)"},{n:"177.7%",c:"red",cc:"red",t:"Largest single-modality gain: SkinFlow RL on Pathology over Zero-Shot"},{n:"p < 0.001",c:"blue",cc:"",t:"All pairwise strategy comparisons statistically significant"}].forEach(function(f){var cd=mk("div","finding-card"+(f.cc?" "+f.cc:""));cd.appendChild(mk("div","finding-number "+f.c,f.n));cd.appendChild(mk("div","finding-text",f.t));g.appendChild(cd);});})();
(function(){document.getElementById("accuracy-title").textContent="Accuracy by Strategy and Modality";new Chart(document.getElementById("accuracyChart"),{type:"bar",data:{labels:MODS.map(function(m){return ML[m];}),datasets:STRATEGIES.map(function(s){return{label:SL[s],data:MODS.map(function(m){return DATA.agg[s][m].am;}),backgroundColor:SC[s],borderColor:SC[s],borderWidth:1,borderRadius:4};})},options:{responsive:true,maintainAspectRatio:true,plugins:{legend:{position:"top",labels:{font:{family:"Libre Franklin",size:11},usePointStyle:true,pointStyle:"rectRounded"}},tooltip:{callbacks:{label:function(c){return c.dataset.label+": "+pct(c.parsed.y);}}}},scales:{y:{beginAtZero:true,max:0.8,title:{display:true,text:"Accuracy",font:{family:"Libre Franklin",size:12}},ticks:{callback:function(v){return pct(v);},font:{size:11}},grid:{color:"rgba(0,0,0,0.06)"}},x:{ticks:{font:{family:"Libre Franklin",size:11}},grid:{display:false}}}}});})();
(function(){document.getElementById("alignment-title").textContent="Domain Alignment Heatmap";var co=document.getElementById("heatmap-container");var tb=mk("table","heatmap-table");var th=mk("thead");var hr=mk("tr");hr.appendChild(mk("th","","Strategy"));MODS.forEach(function(m){hr.appendChild(mk("th","",ML[m]));});hr.appendChild(mk("th","","Improvement"));th.appendChild(hr);tb.appendChild(th);var bd=mk("tbody");STRATEGIES.forEach(function(s){var r=mk("tr");r.appendChild(mk("td","",SL[s]));MODS.forEach(function(m){var v=DATA.alignment.matrix[s][m];var td=mk("td");var sp=mk("span","heatmap-cell",fmt(v,3));if(v>0.8){sp.style.background="#dcfce7";sp.style.color="#166534";}else if(v>0.6){sp.style.background="#dbeafe";sp.style.color="#1e40af";}else if(v>0.4){sp.style.background="#fef3c7";sp.style.color="#92400e";}else{sp.style.background="#fee2e2";sp.style.color="#991b1b";}td.appendChild(sp);r.appendChild(td);});var it=mk("td");var iv=DATA.alignment.improvement[s];var is2=mk("span","heatmap-cell",iv===0?"baseline":"+"+fmt(iv,4));if(iv>0.3){is2.style.background="#dcfce7";is2.style.color="#166534";}else if(iv>0){is2.style.background="#dbeafe";is2.style.color="#1e40af";}else{is2.style.background="#f1f5f9";is2.style.color="#64748b";}it.appendChild(is2);r.appendChild(it);bd.appendChild(r);});tb.appendChild(bd);co.appendChild(tb);})();
(function(){document.getElementById("calibration-title").textContent="Calibration & Pareto Efficiency";new Chart(document.getElementById("eceChart"),{type:"bar",data:{labels:STRATEGIES.map(function(s){return SL[s];}),datasets:[{label:"Mean ECE",data:STRATEGIES.map(function(s){return DATA.calibration.ece[s];}),backgroundColor:STRATEGIES.map(function(s){return SC[s];}),borderWidth:0,borderRadius:6}]},options:{indexAxis:"y",responsive:true,maintainAspectRatio:true,plugins:{legend:{display:false},tooltip:{callbacks:{label:function(c){return"ECE: "+fmt(c.parsed.x,4);}}}},scales:{x:{beginAtZero:true,max:0.25,title:{display:true,text:"Expected Calibration Error",font:{family:"Libre Franklin",size:12}},ticks:{font:{size:11}},grid:{color:"rgba(0,0,0,0.06)"}},y:{ticks:{font:{family:"Libre Franklin",size:11,weight:"600"}},grid:{display:false}}}}});})();
(function(){new Chart(document.getElementById("paretoChart"),{type:"scatter",data:{datasets:[{label:"Pareto Frontier",data:[{x:1.0,y:0.2509},{x:1.05,y:0.4038},{x:2.1,y:0.6574}],borderColor:"#0066CC",backgroundColor:"rgba(0,102,204,0.1)",borderWidth:2,showLine:true,fill:true,pointRadius:0,tension:0},{label:"Zero-Shot",data:[{x:1.0,y:0.2509}],backgroundColor:"#94a3b8",pointRadius:8,pointHoverRadius:10},{label:"Linear Probe",data:[{x:1.05,y:0.4038}],backgroundColor:"#F4845F",pointRadius:8,pointHoverRadius:10},{label:"Domain-Adaptive FT",data:[{x:3.2,y:0.5677}],backgroundColor:"#0066CC",pointRadius:8,pointHoverRadius:10,pointStyle:"triangle"},{label:"SkinFlow RL",data:[{x:2.1,y:0.6574}],backgroundColor:"#00A878",pointRadius:8,pointHoverRadius:10}]},options:{responsive:true,maintainAspectRatio:true,plugins:{legend:{position:"top",labels:{font:{family:"Libre Franklin",size:10},usePointStyle:true}},tooltip:{callbacks:{label:function(c){return c.dataset.label+": "+pct(c.parsed.y)+" @ "+c.parsed.x.toFixed(2)+"x";}}}},scales:{x:{title:{display:true,text:"Compute Multiplier",font:{family:"Libre Franklin",size:12}},min:0.5,max:3.8,ticks:{callback:function(v){return v+"x";},font:{size:11}},grid:{color:"rgba(0,0,0,0.06)"}},y:{title:{display:true,text:"Mean Accuracy",font:{family:"Libre Franklin",size:12}},min:0.15,max:0.75,ticks:{callback:function(v){return pct(v);},font:{size:11}},grid:{color:"rgba(0,0,0,0.06)"}}}}});})();
(function(){document.getElementById("sig-title").textContent="Statistical Significance";var co=document.getElementById("sig-container");var tb=mk("table","sig-table");var th=mk("thead");var hr=mk("tr");["Comparison","t-stat","p-value","Cohen's d","Mean Diff","Sig."].forEach(function(h){hr.appendChild(mk("th","",h));});th.appendChild(hr);tb.appendChild(th);var bd=mk("tbody");Object.keys(DATA.sig.paired).forEach(function(k){var s=DATA.sig.paired[k];var r=mk("tr");r.appendChild(mk("td","",k));r.appendChild(mk("td","",fmt(s.t,2)));r.appendChild(mk("td","","< 0.001"));r.appendChild(mk("td","",fmt(s.d,2)));r.appendChild(mk("td","",fmt(s.diff,4)));var st=mk("td");st.appendChild(mk("span","sig-badge yes","Yes"));r.appendChild(st);bd.appendChild(r);});tb.appendChild(bd);co.appendChild(tb);var bx=mk("div","friedman-box");bx.appendChild(mk("div","friedman-label","Friedman Test: All strategies significantly different"));bx.appendChild(mk("div","friedman-detail","Statistic = 15.0, p = 0.0018 (p < 0.05)"));co.appendChild(bx);})();
var modChart=null,curMod="dermatology";
function bMS(m){var s=document.getElementById("mod-stats");while(s.firstChild)s.removeChild(s.firstChild);[{l:"Best Accuracy (RL)",v:pct(DATA.agg.skinflow_rl[m].am)},{l:"AUROC (RL)",v:fmt(DATA.agg.skinflow_rl[m].rm,4)},{l:"Alignment (RL)",v:fmt(DATA.alignment.matrix.skinflow_rl[m],4)},{l:"ECE (RL)",v:fmt(DATA.calibration.gaps.skinflow_rl[m],4)}].forEach(function(i){var c=mk("div","mod-stat-card");c.appendChild(mk("div","mod-stat-value",i.v));c.appendChild(mk("div","mod-stat-label",i.l));s.appendChild(c);});}
function bRL(m){var l=document.getElementById("rank-list");while(l.firstChild)l.removeChild(l.firstChild);var t=mk("div","");t.style.cssText="font-family:Libre Franklin,sans-serif;font-weight:700;font-size:0.9rem;margin-bottom:0.5rem";t.textContent=ML[m]+" Rankings";l.appendChild(t);var rk=DATA.cross.rankings[m],mx=rk[0][1];rk.forEach(function(r,i){var it=mk("div","rank-item");it.appendChild(mk("span","rank-pos","#"+(i+1)));it.appendChild(mk("span","rank-name",SL[r[0]]));var bg=mk("div","rank-bar-bg");var fl=mk("div","rank-bar-fill");fl.style.width=((r[1]/mx)*100)+"%";fl.style.background=SC[r[0]];bg.appendChild(fl);bg.appendChild(mk("span","rank-bar-val",pct(r[1])));it.appendChild(bg);l.appendChild(it);});}
function bMC(m){var cx=document.getElementById("modChart");if(modChart)modChart.destroy();modChart=new Chart(cx,{type:"bar",data:{labels:STRATEGIES.map(function(s){return SL[s];}),datasets:[{label:"Accuracy",data:STRATEGIES.map(function(s){return DATA.agg[s][m].am;}),backgroundColor:STRATEGIES.map(function(s){return SC[s];}),borderWidth:0,borderRadius:6}]},options:{responsive:true,maintainAspectRatio:true,plugins:{legend:{display:false},title:{display:true,text:ML[m]+" - Accuracy by Strategy",font:{family:"Libre Franklin",size:13,weight:"600"}},tooltip:{callbacks:{label:function(c){return"Accuracy: "+pct(c.parsed.y);}}}},scales:{y:{beginAtZero:true,max:0.8,ticks:{callback:function(v){return pct(v);},font:{size:11}},grid:{color:"rgba(0,0,0,0.06)"}},x:{ticks:{font:{family:"Libre Franklin",size:10,weight:"600"}},grid:{display:false}}}}});}
function selMod(m){curMod=m;document.querySelectorAll(".tab-btn").forEach(function(b){b.classList.toggle("active",b.getAttribute("data-mod")===m);});bMS(m);bMC(m);bRL(m);}
(function(){document.getElementById("mod-title").textContent="Interactive Modality Explorer";var bar=document.getElementById("tab-bar");MODS.forEach(function(m){var b=mk("button","tab-btn"+(m==="dermatology"?" active":""),ML[m]);b.setAttribute("data-mod",m);b.addEventListener("click",function(){selMod(m);});bar.appendChild(b);});selMod("dermatology");})();
(function(){document.getElementById("method-title").textContent="Methodology";var g=document.getElementById("method-grid");[{i:"ðŸ”",t:"Zero-Shot Transfer",d:"Direct application of pre-trained multimodal models without task-specific training. Compute: 1.0x."},{i:"ðŸ“Š",t:"Linear Probing",d:"Frozen backbone with trained linear classification head. Compute: 1.05x."},{i:"âš™ï¸",t:"Domain-Adaptive FT",d:"Full model fine-tuning on domain-specific medical data. Compute: 3.2x."},{i:"ðŸš€",t:"SkinFlow RL",d:"RL-based adaptation with reward shaping for medical accuracy. Best at 2.1x compute."}].forEach(function(m){var c=mk("div","method-card");c.appendChild(mk("div","method-icon",m.i));c.appendChild(mk("div","method-title",m.t));c.appendChild(mk("div","method-desc",m.d));g.appendChild(c);});})();
(function(){var f=document.getElementById("footer");var l1=mk("div");l1.appendChild(mk("strong","","Medical Foundation Model Adaptation Study"));f.appendChild(l1);f.appendChild(mk("div","","Integrating General-Purpose Multimodal Foundation Models into Medical Applications"));var l3=mk("div","","Applied Data Science Track Â· 4 Strategies Â· 5 Modalities Â· 20 Configurations");l3.style.cssText="margin-top:0.5rem;opacity:0.7;font-size:0.75rem";f.appendChild(l3);})();
(function(){var o=new IntersectionObserver(function(e){e.forEach(function(en){if(en.isIntersecting){en.target.style.animationDelay="0.1s";en.target.classList.add("fade-in");}});},{threshold:0.1});document.querySelectorAll(".section").forEach(function(s){o.observe(s);});})();
</script>
</body>
</html>