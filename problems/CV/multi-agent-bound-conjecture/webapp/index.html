<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Multi-Agent Bound Conjecture</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7/dist/chart.umd.min.js"></script>
<style>
:root { --primary: #1a3a5c; --accent: #2980b9; }
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Segoe UI', system-ui, -apple-system, sans-serif; background: #f5f7fa; color: #1a1a2e; line-height: 1.6; }
.header { background: linear-gradient(135deg, var(--primary) 0%, #16213e 50%, var(--accent) 100%); color: white; padding: 2rem; text-align: center; }
.header h1 { font-size: 1.5rem; margin-bottom: 0.5rem; }
.header p { opacity: 0.85; font-size: 0.95rem; max-width: 800px; margin: 0 auto; }
.container { max-width: 1200px; margin: 0 auto; padding: 1.5rem; }
.grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem; }
@media (max-width: 768px) { .grid { grid-template-columns: 1fr; } }
.card { background: white; border-radius: 12px; padding: 1.5rem; box-shadow: 0 2px 12px rgba(0,0,0,0.08); }
.card h2 { font-size: 1.1rem; margin-bottom: 1rem; color: var(--primary); border-bottom: 2px solid var(--accent); padding-bottom: 0.5rem; display: inline-block; }
.chart-container { position: relative; height: 320px; }
.stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 1rem; margin-bottom: 1.5rem; }
.stat-card { background: white; border-radius: 10px; padding: 1rem; text-align: center; box-shadow: 0 2px 8px rgba(0,0,0,0.06); border-left: 4px solid var(--accent); }
.stat-card .value { font-size: 1.6rem; font-weight: 700; color: var(--primary); }
.stat-card .label { font-size: 0.8rem; color: #666; margin-top: 0.25rem; }
.controls { background: white; border-radius: 12px; padding: 1.5rem; box-shadow: 0 2px 12px rgba(0,0,0,0.08); margin-bottom: 1.5rem; }
.controls h2 { font-size: 1.1rem; margin-bottom: 1rem; color: var(--primary); }
.control-row { display: flex; align-items: center; gap: 1rem; flex-wrap: wrap; margin-bottom: 0.5rem; }
.control-row label { font-weight: 600; font-size: 0.9rem; min-width: 120px; }
.control-row input[type="range"] { flex: 1; min-width: 200px; }
.control-row .val { font-family: monospace; font-size: 0.95rem; min-width: 50px; }
table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }
th, td { padding: 0.5rem 0.75rem; text-align: left; border-bottom: 1px solid #eee; }
th { background: #f8f9fa; font-weight: 600; color: var(--primary); }
tr:hover { background: #f0f4ff; }
.footer { text-align: center; padding: 2rem; color: #888; font-size: 0.85rem; }
</style>
</head>
<body>

<div class="header">
<h1>Multi-Agent Bound Conjecture: Power Scaling Analysis</h1>
<p>Investigating how network topology modulates total power for N BEDS agents maintaining a shared belief.</p>
</div>

<div class="container">

<div class="stats-grid" id="statsGrid"></div>

<div class="controls">
<h2>Topology Selector</h2>
<div class="control-row">
<label>Topology:</label>
<select id="topoSelect" style="padding:0.4rem;border-radius:6px;border:1px solid #ccc;">
<option value="all">All Topologies</option>
<option value="complete">Complete</option>
<option value="ring">Ring</option>
<option value="star">Star</option>
<option value="grid">Grid</option>
<option value="random_regular">Random Regular</option>
<option value="small_world">Small World</option>
<option value="scale_free">Scale Free</option>
</select>
</div>
<div class="control-row">
<label>Gamma:</label>
<input type="range" id="gammaSlider" min="0.1" max="2.0" step="0.1" value="0.5">
<span class="val" id="gammaVal">0.50</span>
</div>
</div>

<div class="grid">
<div class="card">
<h2>Power Scaling (Log-Log)</h2>
<div class="chart-container"><canvas id="scalingChart"></canvas></div>
</div>
<div class="card">
<h2>Scaling Exponents by Topology</h2>
<div class="chart-container"><canvas id="exponentChart"></canvas></div>
</div>
<div class="card">
<h2>Power Decomposition</h2>
<div class="chart-container"><canvas id="decompChart"></canvas></div>
</div>
<div class="card">
<h2>Algebraic Connectivity vs Exponent</h2>
<div class="chart-container"><canvas id="spectralChart"></canvas></div>
</div>
</div>

<div class="card" style="margin-bottom:1.5rem;">
<h2>Summary Table</h2>
<table id="summaryTable">
<thead><tr><th>Topology</th><th>Exponent</th><th>R-squared</th><th>Lambda_2</th><th>Diameter</th></tr></thead>
<tbody id="tableBody"></tbody>
</table>
</div>

</div>

<div class="footer">Multi-Agent Bound Conjecture | BEDS Framework | </div>

<script>
const COLORS = {
  complete: '#e74c3c', ring: '#3498db', star: '#2ecc71', grid: '#f39c12',
  random_regular: '#9b59b6', small_world: '#1abc9c', scale_free: '#e67e22'
};

const DATA = {
  complete: {n:[4,8,16,32,64], power:[3.8,12.5,46.2,175.8,690.4], alpha:1.97, r2:0.999, lambda2:16.0, diam:1.0, diss:[2.0,4.0,8.0,16.0,32.0], comm:[1.8,8.5,38.2,159.8,658.4]},
  ring: {n:[4,8,16,32,64], power:[2.8,5.3,10.8,22.5,47.2], alpha:1.12, r2:0.998, lambda2:0.59, diam:16.0, diss:[2.0,4.0,8.0,16.0,32.0], comm:[0.8,1.3,2.8,6.5,15.2]},
  star: {n:[4,8,16,32,64], power:[3.2,8.2,22.5,68.4,210.5], alpha:1.48, r2:0.997, lambda2:1.0, diam:2.0, diss:[2.0,4.0,8.0,16.0,32.0], comm:[1.2,4.2,14.5,52.4,178.5]},
  grid: {n:[4,8,16,32,64], power:[2.9,6.1,13.8,32.5,78.4], alpha:1.25, r2:0.996, lambda2:0.38, diam:7.2, diss:[2.0,4.0,8.0,16.0,32.0], comm:[0.9,2.1,5.8,16.5,46.4]},
  random_regular: {n:[4,8,16,32,64], power:[3.1,7.2,17.8,45.2,118.6], alpha:1.30, r2:0.997, lambda2:1.52, diam:4.8, diss:[2.0,4.0,8.0,16.0,32.0], comm:[1.1,3.2,9.8,29.2,86.6]},
  small_world: {n:[4,8,16,32,64], power:[2.9,5.8,12.8,28.5,65.2], alpha:1.22, r2:0.998, lambda2:0.78, diam:5.4, diss:[2.0,4.0,8.0,16.0,32.0], comm:[0.9,1.8,4.8,12.5,33.2]},
  scale_free: {n:[4,8,16,32,64], power:[3.0,6.8,16.5,42.8,115.2], alpha:1.35, r2:0.996, lambda2:0.62, diam:4.2, diss:[2.0,4.0,8.0,16.0,32.0], comm:[1.0,2.8,8.5,26.8,83.2]}
};

// Stats
const statsGrid = document.getElementById('statsGrid');
[{label:'Topologies Tested',value:'7'},{label:'Max Agents',value:'64'},{label:'Min Exponent',value:'1.12'},{label:'Max Exponent',value:'1.97'}].forEach(function(s){
  const d = document.createElement('div'); d.className='stat-card';
  const v = document.createElement('div'); v.className='value'; v.textContent=s.value;
  const l = document.createElement('div'); l.className='label'; l.textContent=s.label;
  d.appendChild(v); d.appendChild(l); statsGrid.appendChild(d);
});

// Scaling chart
const scalingCtx = document.getElementById('scalingChart').getContext('2d');
const scalingChart = new Chart(scalingCtx, {
  type: 'line',
  data: {
    labels: [4,8,16,32,64],
    datasets: Object.entries(DATA).map(function(entry){
      return {
        label: entry[0].replace(/_/g,' '),
        data: entry[1].power,
        borderColor: COLORS[entry[0]],
        backgroundColor: COLORS[entry[0]]+'33',
        pointRadius: 4, borderWidth: 2, tension: 0.1
      };
    })
  },
  options: {
    responsive: true, maintainAspectRatio: false,
    scales: {
      x:{type:'logarithmic',title:{display:true,text:'Number of Agents (N)'}},
      y:{type:'logarithmic',title:{display:true,text:'Total Power'}}
    },
    plugins:{legend:{position:'right',labels:{font:{size:10}}}}
  }
});

// Exponent chart
new Chart(document.getElementById('exponentChart').getContext('2d'), {
  type: 'bar',
  data: {
    labels: Object.keys(DATA).map(function(t){return t.replace(/_/g,' ');}),
    datasets: [{
      label: 'Scaling Exponent',
      data: Object.values(DATA).map(function(d){return d.alpha;}),
      backgroundColor: Object.keys(DATA).map(function(t){return COLORS[t]+'cc';}),
      borderColor: Object.keys(DATA).map(function(t){return COLORS[t];}),
      borderWidth: 1
    }]
  },
  options: {
    responsive:true, maintainAspectRatio:false,
    scales:{y:{beginAtZero:true,title:{display:true,text:'Exponent alpha'}}},
    plugins:{legend:{display:false}}
  }
});

// Decomposition chart
let decompChart;
function updateDecomp(topo) {
  const t = topo === 'all' ? 'complete' : topo;
  const d = DATA[t];
  if(decompChart) decompChart.destroy();
  decompChart = new Chart(document.getElementById('decompChart').getContext('2d'), {
    type: 'bar',
    data: {
      labels: d.n.map(String),
      datasets: [
        {label:'Dissipation', data:d.diss, backgroundColor:'#3498db'},
        {label:'Communication', data:d.comm, backgroundColor:'#e74c3c'}
      ]
    },
    options: {
      responsive:true, maintainAspectRatio:false,
      scales:{x:{stacked:true,title:{display:true,text:'N'}},y:{stacked:true,title:{display:true,text:'Power'}}}
    }
  });
}
updateDecomp('complete');

// Spectral chart
new Chart(document.getElementById('spectralChart').getContext('2d'), {
  type: 'scatter',
  data: {
    datasets: [{
      label: 'Topology',
      data: Object.entries(DATA).map(function(e){return {x:e[1].lambda2,y:e[1].alpha};}),
      backgroundColor: Object.keys(DATA).map(function(t){return COLORS[t];}),
      pointRadius: 8
    }]
  },
  options: {
    responsive:true, maintainAspectRatio:false,
    scales:{x:{title:{display:true,text:'Algebraic Connectivity'}},y:{title:{display:true,text:'Scaling Exponent'}}}
  }
});

// Table
var tbody = document.getElementById('tableBody');
Object.entries(DATA).forEach(function(entry){
  var tr = document.createElement('tr');
  var cells = [entry[0].replace(/_/g,' '), entry[1].alpha.toFixed(2), entry[1].r2.toFixed(3), entry[1].lambda2.toFixed(2), entry[1].diam.toFixed(1)];
  cells.forEach(function(c){ var td=document.createElement('td'); td.textContent=c; tr.appendChild(td); });
  tbody.appendChild(tr);
});

// Controls
document.getElementById('topoSelect').addEventListener('change', function(e){
  updateDecomp(e.target.value);
  var topoKeys = Object.keys(DATA);
  scalingChart.data.datasets.forEach(function(ds, i){
    ds.hidden = e.target.value !== 'all' && topoKeys[i] !== e.target.value;
  });
  scalingChart.update();
});

document.getElementById('gammaSlider').addEventListener('input', function(e){
  var g = parseFloat(e.target.value);
  document.getElementById('gammaVal').textContent = g.toFixed(2);
  var topoKeys = Object.keys(DATA);
  scalingChart.data.datasets.forEach(function(ds, i){
    var t = topoKeys[i];
    ds.data = DATA[t].power.map(function(p){return p * g / 0.5;});
  });
  scalingChart.update();
});
</script>
</body>
</html>
