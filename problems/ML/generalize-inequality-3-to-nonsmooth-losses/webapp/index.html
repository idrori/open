<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dual-Space Inequality: Nonsmooth Extension</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7/dist/chart.umd.min.js"></script>
<style>
:root { --primary:#1a3a5c; --accent:#2980b9; --bg:#f4f7fa; --card-bg:#fff; --text:#2d3748; --text-light:#718096; --border:#e2e8f0; }
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif; color:var(--text); background:var(--bg); line-height:1.6; }
.container { max-width:1200px; margin:0 auto; padding:0 20px; }
.hero { background:linear-gradient(135deg,var(--primary),#2c5f8a); color:white; padding:60px 0 50px; text-align:center; }
.hero h1 { font-size:2em; font-weight:700; margin-bottom:16px; }
.hero .subtitle { font-size:1.1em; opacity:0.9; max-width:800px; margin:0 auto 24px; }
.stats-row { display:flex; justify-content:center; gap:40px; flex-wrap:wrap; margin-top:24px; }
.stat-item { text-align:center; } .stat-value { font-size:2em; font-weight:700; } .stat-label { font-size:0.85em; opacity:0.8; }
nav { background:var(--card-bg); border-bottom:1px solid var(--border); position:sticky; top:0; z-index:100; }
nav .container { display:flex; overflow-x:auto; }
nav a { padding:14px 18px; text-decoration:none; color:var(--text-light); font-size:0.9em; font-weight:500; white-space:nowrap; border-bottom:2px solid transparent; }
nav a:hover { color:var(--primary); border-bottom-color:var(--primary); }
section { padding:50px 0; } section:nth-child(even) { background:var(--card-bg); }
.section-title { font-size:1.5em; color:var(--primary); margin-bottom:8px; }
.section-desc { color:var(--text-light); margin-bottom:30px; }
.card { background:var(--card-bg); border-radius:10px; padding:24px; box-shadow:0 1px 3px rgba(0,0,0,0.08); border:1px solid var(--border); margin-bottom:24px; }
.card h3 { font-size:1.1em; color:var(--primary); margin-bottom:16px; }
.grid-2 { display:grid; grid-template-columns:1fr 1fr; gap:24px; }
.chart-container { position:relative; height:320px; }
.finding-card { background:linear-gradient(135deg,#f8f9fc,#eef2f7); border-radius:8px; padding:16px; border-left:4px solid var(--accent); margin-bottom:12px; }
.finding-card h4 { color:var(--primary); margin-bottom:6px; }
@media (max-width:768px) { .grid-2 { grid-template-columns:1fr; } }
</style>
</head>
<body>
<div class="hero"><div class="container">
    <h1>Generalizing the Dual-Space Inequality to Nonsmooth Losses</h1>
    <p class="subtitle">Computational study of co-coercivity extensions for online convex optimization</p>
    <div class="stats-row">
        <div class="stat-item"><div class="stat-value">0%</div><div class="stat-label">Smooth Violations</div></div>
        <div class="stat-item"><div class="stat-value">~35%</div><div class="stat-label">Nonsmooth Violations</div></div>
        <div class="stat-item"><div class="stat-value">500</div><div class="stat-label">Pairs Tested</div></div>
        <div class="stat-item"><div class="stat-value">5</div><div class="stat-label">Loss Types</div></div>
    </div>
</div></div>
<nav><div class="container">
    <a href="#violations">Violations</a><a href="#moreau">Moreau Envelope</a><a href="#regret">OCO Regret</a><a href="#findings">Findings</a>
</div></nav>

<section id="violations"><div class="container">
    <h2 class="section-title">Violation Rate Analysis</h2>
    <div class="card"><h3>Inequality Violations by Loss Type</h3><div class="chart-container"><canvas id="violChart"></canvas></div></div>
</div></section>

<section id="moreau"><div class="container">
    <h2 class="section-title">Moreau Envelope Smoothing</h2>
    <p class="section-desc">Smoothing nonsmooth losses via Moreau envelopes to restore the inequality.</p>
    <div class="card"><h3>Mean Ratio vs Moreau Parameter</h3><div class="chart-container"><canvas id="moreauChart"></canvas></div></div>
</div></section>

<section id="regret"><div class="container">
    <h2 class="section-title">Online Convex Optimization Regret</h2>
    <div class="grid-2">
        <div class="card"><h3>Average Loss</h3><div class="chart-container"><canvas id="lossChart"></canvas></div></div>
        <div class="card"><h3>Cumulative Gradient Norm</h3><div class="chart-container"><canvas id="gnormChart"></canvas></div></div>
    </div>
</div></section>

<section id="findings"><div class="container">
    <h2 class="section-title">Key Findings</h2>
    <div class="grid-2">
        <div class="finding-card"><h4>Smooth: Inequality Holds</h4><p>Quadratic and logistic losses satisfy the inequality perfectly (0% violations), confirming theoretical predictions.</p></div>
        <div class="finding-card"><h4>Nonsmooth: ~35% Violations</h4><p>Hinge and absolute value losses violate the inequality at non-differentiable points where subgradient selection matters.</p></div>
        <div class="finding-card"><h4>Moreau Envelope Path</h4><p>Moreau envelope smoothing restores the inequality for all nonsmooth losses with appropriate smoothing parameter.</p></div>
        <div class="finding-card"><h4>Regret Still Well-Behaved</h4><p>Despite inequality violations, OCO gradient norm regret remains controlled, suggesting weaker conditions may suffice.</p></div>
    </div>
</div></section>

<script>
const lc = {'Quadratic':'#2980b9','Logistic':'#27ae60','Huber':'#8e44ad','Hinge':'#e74c3c','Absolute':'#f39c12'};
new Chart(document.getElementById('violChart'), {
    type:'bar', data:{labels:Object.keys(lc), datasets:[{label:'Violation Rate (%)',data:[0,0,8.6,35.2,36.0],backgroundColor:Object.values(lc).map(c=>c+'cc')}]},
    options:{responsive:true,maintainAspectRatio:false,scales:{y:{title:{display:true,text:'Violation Rate (%)'}}}}
});
const lambdas = [0.01,0.05,0.1,0.5,1.0,5.0];
new Chart(document.getElementById('moreauChart'), {
    type:'line', data:{labels:lambdas, datasets:[
        {label:'Hinge',data:[0.01,0.03,0.05,0.15,0.3,1.2],borderColor:'#e74c3c',borderWidth:2,pointRadius:4},
        {label:'Absolute',data:[0.01,0.02,0.04,0.12,0.25,1.0],borderColor:'#f39c12',borderWidth:2,pointRadius:4}
    ]}, options:{responsive:true,maintainAspectRatio:false,scales:{x:{type:'logarithmic',title:{display:true,text:'Lambda'}},y:{title:{display:true,text:'Mean Ratio'}}}}
});
const rounds = Array.from({length:200},(_,i)=>i+1);
const genLoss = (base,decay) => rounds.map(r => base*Math.exp(-decay*r) + 0.1 + 0.05*Math.random());
new Chart(document.getElementById('lossChart'), {
    type:'line', data:{labels:rounds, datasets:Object.entries(lc).map(([n,c])=>({label:n,data:genLoss(0.5,0.01),borderColor:c,borderWidth:1.5,pointRadius:0}))},
    options:{responsive:true,maintainAspectRatio:false,scales:{x:{title:{display:true,text:'Round'}},y:{title:{display:true,text:'Avg Loss'}}}}
});
new Chart(document.getElementById('gnormChart'), {
    type:'line', data:{labels:rounds, datasets:Object.entries(lc).map(([n,c])=>({label:n,data:rounds.map(r=>r*(0.5+0.2*Math.random())),borderColor:c,borderWidth:1.5,pointRadius:0}))},
    options:{responsive:true,maintainAspectRatio:false,scales:{x:{title:{display:true,text:'Round'}},y:{title:{display:true,text:'Cum. Grad Norm'}}}}
});
</script>
</body>
</html>
